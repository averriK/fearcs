(***********************************************************************

                    Mathematica-Compatible Notebook

This notebook can be used on any computer system with Mathematica 4.0,
MathReader 4.0, or any compatible application. The data for the notebook 
starts with the line containing stars above.

To get the notebook into a Mathematica-compatible application, do one of 
the following:

* Save the data starting with the line of stars above into a file
  with a name ending in .nb, then open the file inside the application;

* Copy the data starting with the line of stars above to the
  clipboard, then use the Paste menu command inside the application.

Data for notebooks contains only printable 7-bit ASCII and can be
sent directly in email or through ftp in text mode.  Newlines can be
CR, LF or CRLF (Unix, Macintosh or MS-DOS style).

NOTE: If you modify the data for this notebook not in a Mathematica-
compatible application, you must delete the line below containing the 
word CacheID, otherwise Mathematica-compatible applications may try to 
use invalid cache data.

For more information on notebooks and Mathematica-compatible 
applications, contact Wolfram Research:
  web: http://www.wolfram.com
  email: info@wolfram.com
  phone: +1-217-398-0700 (U.S.)

Notebook reader applications are available free of charge from 
Wolfram Research.
***********************************************************************)

(*CacheID: 232*)


(*NotebookFileLineBreakTest
NotebookFileLineBreakTest*)
(*NotebookOptionsPosition[    250383,       4742]*)
(*NotebookOutlinePosition[    251084,       4767]*)
(*  CellTagsIndexPosition[    251040,       4763]*)
(*WindowFrame->Normal*)



Notebook[{

Cell[CellGroupData[{
Cell["APLICACIONES", "Subtitle",
  PageWidth->Infinity],

Cell[CellGroupData[{

Cell["TEST STRUCTURE", "Section",
  PageWidth->Infinity],

Cell[CellGroupData[{

Cell["P1*-COLUMNA HORMIGON ARMADO R-5", "Subsection",
  PageWidth->Infinity],

Cell[CellGroupData[{

Cell["INPUTP1: ", "Subsubsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[INPUTP1];\)\), "\n", 
    \(INPUTP1[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]RESET = 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 
          0.85; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.5*10^\(-8\); \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 2; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          85; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          4; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = False; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 0.00, 
            Yi = 6.000}; \[IndentingNewLine]JointX[\([3]\)] = {Xi = 6.00, 
            Yi = 6.000}; \[IndentingNewLine]JointX[\([4]\)] = {Xi = 6.00, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine]BeamColumnCN[\([2]\)] = {I = 2, 
            J = 3}; \[IndentingNewLine]BeamColumnCN[\([3]\)] = {I = 3, 
            J = 4}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[IndentingNewLine]MaterialTable[\([MCODE]\)] = {{Es = 210000, 
              fy = 420, \[Epsilon]y = fy/Es, \[Gamma]a = 
                0.0775, \[IndentingNewLine]K = 0.01*Es, 
              H = 0.00*
                  Es}, {fc = \(-30\), \[Epsilon]o = \(-0.00245\), \[Gamma]h = 
                0.0235}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= False; \[IndentingNewLine]DAMAGE = {1, 
            0.0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ *) \[IndentingNewLine]SCODE = 1; \ 
        MCODE = 1; \[IndentingNewLine]Geometry = {{bo = 0.20, bmax = 0.00, 
              d = 0.20, do = 0.00}, \[IndentingNewLine]{rs = 0.015, 
              ri = 0.015, rh = 0.01, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ *) \[IndentingNewLine]Reinforcement = \
{NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
              zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
                2.00*10^\(-4\), As2 = 2.00*10^\(-4\)}, \[Phi]h = 
              6.35*10^\(-3\), sh = 0.075}; \[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
            Damage \[Rule] 
              DAMAGE]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine] \
(*\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              0}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine]JointID[\([3]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine]JointID[\([4]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]HC = 
          7.86610*10^\(-3\); HT = 2.703551*10^\(-3\); 
        P = 4.90332*10^\(-2\); \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO = 2]\)] = {FX = \(+0.5\)*HT, FY = \(+P\), 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO = 3]\)] = {FX = 0, FY = \(-P\), 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, 
              JO = 2]\)] = {FX = \(-0.5\)*HT, FY = \(-P\), 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, 
              JO = 3]\)] = {FX = 0, FY = \(+P\), 
            MXY = 0}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]For[BC = 1, 
          BC <= BCMAXEL, \(BC++\), \[IndentingNewLine]BeamColumnLOAD[\([t = 
                  1, BC]\)] = {pX = 0.00, pY = 0.00, 
              mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
                BC]\)] = {pX = 0.00, pY = 0.00, 
              mXY = 0.00};\[IndentingNewLine]]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine]For[BC = 1, 
          BC <= BCMAXEL, \(BC++\), \[IndentingNewLine] (*\ 
            CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
            NUMERO\ DE\ ELEMENTOS\ EN\ SUPERELEMENTO\ \
BC*) \[IndentingNewLine]NEL = 2; \[IndentingNewLine] (*\ 
            NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\  \
\[GreaterEqual] 3*) \[IndentingNewLine]NGP = 5; \[IndentingNewLine] (*\ 
            NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\) \
\[GreaterEqual] 3\ *) \[IndentingNewLine]NFC = 10; \[IndentingNewLine] (*\ 
            CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
            TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC]\)] = {NT = 1, 
              MCODE, {emax = 0, 
                emin = 0}, {{NEL, \[Alpha]L = 1.00, SCODE, NGP, 
                  NFC, {emax = 0, 
                    emin = 0}}}};\[IndentingNewLine]]; \[IndentingNewLine]\
\[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Newton; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}=\>", {BCMAXEL, 
            MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
            REAC}]; \[IndentingNewLine]PRINT["\<JointX=\>", 
          JointX]; \[IndentingNewLine]PRINT["\<BeamColumnCN=\>", 
          BeamColumnCN]; 
        PRINT["\<MaterialTable=\>", 
          MaterialTable]; \[IndentingNewLine]PRINT["\<{CTOL,\[Epsilon]ATOL,\
\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \[CapitalPsi]TOL, 
            UTOL, OVSH}]; \
\[IndentingNewLine]PRINT["\<{NOSTEEL,NOCONCRETE}=\>", {NOSTEEL, 
            NOCONCRETE}]; \
\[IndentingNewLine]PRINT["\<{EQUAD,ETYPE,SQUAD,STYPE}=\>", {EQUAD, ETYPE, 
            SQUAD, STYPE}]; \[IndentingNewLine]PRINT["\<Geometry=\>", 
          Geometry]; 
        PRINT["\<Reinforcement=\>", 
          Reinforcement]; \[IndentingNewLine]PRINT["\<ConfinateConcrete=\>", 
          ConfinateConcrete]; 
        PRINT["\<SectionTable=\>", 
          SectionTable]; \[IndentingNewLine]PRINT["\<JointID=\>", JointID]; 
        PRINT["\<JointLOAD=\>", 
          JointLOAD]; \[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
          BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", BeamTable]; \[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]],

Cell[CellGroupData[{

Cell["R-5A: ", "Subsubsection",
  PageWidth->Infinity,
  FontColor->RGBColor[0, 0, 1]],

Cell[BoxData[{
    \(\(Clear[R5A];\)\), "\n", 
    \(R5A[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]EVENTCONTROL = 
          True; RESET\  = \ 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 
          0.75; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.001; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.5*10^\(-8\); \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 5; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          100; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          2; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = False; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 1.5875, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[CurlyPhi] = \(-1\); \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
{{Es = 198790, 
              fy = 453.97, \[Epsilon]y = fy/Es, \[Gamma]a = 
                0.0775, \[IndentingNewLine]K = 0.000*Es, 
              H = 0.036*Es}, {fc = 30.199*\[CurlyPhi], \[Epsilon]o = 
                0.00245*\[CurlyPhi], \[Gamma]h = 
                0.0235}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= False; \[IndentingNewLine]DAMAGE = {1, 
            0.0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ *) \[IndentingNewLine]SCODE = 1; \ 
        MCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 0.22225, bmax = 0.00, 
              d = 0.4064, do = 0.00}, \[IndentingNewLine]{rs = 0.0475, 
              ri = 0.0195, rh = 0.01905, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ *) \[IndentingNewLine]Reinforcement = \
{NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
              zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
                11.40*10^\(-4\), As2 = 11.40*10^\(-4\)}, \[Phi]h = 
              6.35*10^\(-3\), sh = 0.075}; \[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
            Damage \[Rule] 
              DAMAGE]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine] \
(*\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              1}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]JO = 2; 
        Ny = \(-2.45\); Py = \(-0.1285269\); Pyr = \(+0.0657714\); 
        Pyrr = \(-0.1093755\); \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO]\)] = {FX = 0, FY = \(+0.5\)*Pyrr, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, JO]\)] = {FX = 
              0, FY = \(-0.5\)*Pyrr, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 3, JO]\)] = {FX = 
              0, FY = \(+0.7\)*Pyrr, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 4, JO]\)] = {FX = 
              0, FY = \(-0.7\)*Pyrr, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 5, JO]\)] = {FX = 
              0, FY = \(+1.0\)*Pyrr, MXY = 0}; \[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]BC = 
          1; \[IndentingNewLine]BeamColumnLOAD[\([t = 1, BC]\)] = {pX = 0.00, 
            pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 4, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 5, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\  \
\[GreaterEqual] 3*) \[IndentingNewLine]NGP = 5; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\) \
\[GreaterEqual] 3\ *) \[IndentingNewLine]NFC = 12; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC = 1]\)] = {\[IndentingNewLine]NT = 2, 
            MCODE = 1, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 3, \[Alpha]L = 0.20, 
                SCODE, NGP = 5, 
                NFC, {emax = 0, emin = 0}}, \[IndentingNewLine]{NEL = 
                  3, \[Alpha]L = 1.00, SCODE, NGP = 5, 
                NFC, {emax = 0, 
                  emin = 0}}}\[IndentingNewLine]}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Newton; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}=\>", {BCMAXEL, 
            MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
            REAC}]; \[IndentingNewLine]PRINT["\<JointX=\>", 
          JointX]; \[IndentingNewLine]PRINT["\<BeamColumnCN=\>", 
          BeamColumnCN]; 
        PRINT["\<MaterialTable=\>", 
          MaterialTable]; \[IndentingNewLine]PRINT["\<{CTOL,\[Epsilon]ATOL,\
\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \[CapitalPsi]TOL, 
            UTOL, OVSH}]; \
\[IndentingNewLine]PRINT["\<{NOSTEEL,NOCONCRETE}=\>", {NOSTEEL, 
            NOCONCRETE}]; \
\[IndentingNewLine]PRINT["\<{EQUAD,ETYPE,SQUAD,STYPE}=\>", {EQUAD, ETYPE, 
            SQUAD, STYPE}]; \[IndentingNewLine]PRINT["\<Geometry=\>", 
          Geometry]; 
        PRINT["\<Reinforcement=\>", 
          Reinforcement]; \[IndentingNewLine]PRINT["\<ConfinateConcrete=\>", 
          ConfinateConcrete]; 
        PRINT["\<SectionTable=\>", 
          SectionTable]; \[IndentingNewLine]PRINT["\<JointID=\>", JointID]; 
        PRINT["\<JointLOAD=\>", 
          JointLOAD]; \[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
          BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", BeamTable]; \[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]],

Cell[CellGroupData[{

Cell["R-4D", "Subsubsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[R4D];\)\), "\n", 
    \(R4D[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]RESET = 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 
          0.7; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.001; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.5*10^\(-8\); \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          85; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          2; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = False; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 1.5875, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[CurlyPhi] = \(-1\); \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
{{Es = 198790, 
              fy = 453.97, \[Epsilon]y = fy/Es, \[Gamma]a = 
                0.0775, \[IndentingNewLine]K = 0.01*Es, 
              H = 0.00*Es}, {fc = 30.199*\[CurlyPhi], \[Epsilon]o = 
                0.00245*\[CurlyPhi], \[Gamma]h = 
                0.0235}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= False; \[IndentingNewLine]DAMAGE = {1, 
            0.0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ *) \[IndentingNewLine]SCODE = 1; \ 
        MCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 0.22225, bmax = 0.00, 
              d = 0.4064, do = 0.00}, \[IndentingNewLine]{rs = 0.0475, 
              ri = 0.0195, rh = 0.01905, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ *) \[IndentingNewLine]Reinforcement = \
{NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
              zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
                5.94*10^\(-4\), As2 = 11.40*10^\(-4\)}, \[Phi]h = 
              6.35*10^\(-3\), sh = 0.075}; \[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
            Damage \[Rule] 
              DAMAGE]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine] \
(*\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              1}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ 
            JointLOAD\ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]NU = 
          2.4; \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO = 2]\)] = {FX = \(-NU\), FY = 0, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, 
              JO = 2]\)] = {FX = \(-NU\), FY = 0, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 3, 
              JO = 2]\)] = {FX = \(-NU\), FY = 0, 
            MXY = 0}; \[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]BC = 
          1; \[IndentingNewLine]BeamColumnLOAD[\([t = 1, BC]\)] = {pX = 0.00, 
            pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine]BC = 1; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ ELEMENTOS\ EN\ SUPERELEMENTO\ \
BC*) \[IndentingNewLine]NEL = 2; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\  \
\[GreaterEqual] 3*) \[IndentingNewLine]NGP = 5; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\) \
\[GreaterEqual] 3\ *) \[IndentingNewLine]NFC = 10; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL, \[Alpha]L = 1.00, SCODE, 
                NGP, NFC, {emax = 0, emin = 0}}}}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Newton; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}=\>", {BCMAXEL, 
            MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
            REAC}]; \[IndentingNewLine]PRINT["\<JointX=\>", 
          JointX]; \[IndentingNewLine]PRINT["\<BeamColumnCN=\>", 
          BeamColumnCN]; 
        PRINT["\<MaterialTable=\>", 
          MaterialTable]; \[IndentingNewLine]PRINT["\<{CTOL,\[Epsilon]ATOL,\
\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \[CapitalPsi]TOL, 
            UTOL, OVSH}]; \
\[IndentingNewLine]PRINT["\<{NOSTEEL,NOCONCRETE}=\>", {NOSTEEL, 
            NOCONCRETE}]; \
\[IndentingNewLine]PRINT["\<{EQUAD,ETYPE,SQUAD,STYPE}=\>", {EQUAD, ETYPE, 
            SQUAD, STYPE}]; \[IndentingNewLine]PRINT["\<Geometry=\>", 
          Geometry]; 
        PRINT["\<Reinforcement=\>", 
          Reinforcement]; \[IndentingNewLine]PRINT["\<ConfinateConcrete=\>", 
          ConfinateConcrete]; 
        PRINT["\<SectionTable=\>", 
          SectionTable]; \[IndentingNewLine]PRINT["\<JointID=\>", JointID]; 
        PRINT["\<JointLOAD=\>", 
          JointLOAD]; \[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
          BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", BeamTable]; \[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]],

Cell[CellGroupData[{

Cell["R-4E", "Subsubsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[SP2B];\)\), "\n", 
    \(SP2B[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]RESET = 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 
          0.7; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.001; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.5*10^\(-8\); \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          85; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          2; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = False; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 1.5875, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[CurlyPhi] = \(-1\); \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
{{Es = 198790, 
              fy = 453.97, \[Epsilon]y = fy/Es, \[Gamma]a = 
                0.0775, \[IndentingNewLine]K = 0.01*Es, 
              H = 0.00*Es}, {fc = 30.199*\[CurlyPhi], \[Epsilon]o = 
                0.00245*\[CurlyPhi], \[Gamma]h = 
                0.0235}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= False; \[IndentingNewLine]DAMAGE = {1, 
            0.0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ *) \[IndentingNewLine]SCODE = 1; \ 
        MCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 0.22225, bmax = 0.00, 
              d = 0.4064, do = 0.00}, \[IndentingNewLine]{rs = 0.0475, 
              ri = 0.0195, rh = 0.01905, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ *) \[IndentingNewLine]Reinforcement = \
{NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
              zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
                5.94*10^\(-4\), As2 = 11.40*10^\(-4\)}, \[Phi]h = 
              6.35*10^\(-3\), sh = 0.075}; \[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
            Damage \[Rule] 
              DAMAGE]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine] \
(*\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              1}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ 
            JointLOAD\ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]HC = 
          0.27888; HT = 0.1; P = 2*0.04903; \[IndentingNewLine]H = 1.05*HC; 
        JointLOAD[\([t = 1, JO = 2]\)] = {FX = \(-P\) - H, FY = \(-H\)/2, 
            MXY = 0}; \[IndentingNewLine]H = 1.15*HT; 
        JointLOAD[\([t = 2, JO = 2]\)] = {FX = \(+P\) + H, FY = \(+H\)/2, 
            MXY = 0}; \[IndentingNewLine]H = 1.15*HC; 
        JointLOAD[\([t = 3, JO = 2]\)] = {FX = \(-P\) - H, FY = \(-H\)/2, 
            MXY = 0}; \[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]BC = 
          1; \[IndentingNewLine]BeamColumnLOAD[\([t = 1, BC]\)] = {pX = 0.00, 
            pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine]BC = 1; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ ELEMENTOS\ EN\ SUPERELEMENTO\ \
BC*) \[IndentingNewLine]NEL = 2; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\  \
\[GreaterEqual] 3*) \[IndentingNewLine]NGP = 5; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\) \
\[GreaterEqual] 3\ *) \[IndentingNewLine]NFC = 10; \[IndentingNewLine] (*\ 
          
          CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL, \[Alpha]L = 1.00, SCODE, 
                NGP, NFC, {emax = 0, emin = 0}}}}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Newton; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}=\>", {BCMAXEL, 
            MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
            REAC}]; \[IndentingNewLine]PRINT["\<JointX=\>", 
          JointX]; \[IndentingNewLine]PRINT["\<BeamColumnCN=\>", 
          BeamColumnCN]; 
        PRINT["\<MaterialTable=\>", 
          MaterialTable]; \[IndentingNewLine]PRINT["\<{CTOL,\[Epsilon]ATOL,\
\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \[CapitalPsi]TOL, 
            UTOL, OVSH}]; \
\[IndentingNewLine]PRINT["\<{NOSTEEL,NOCONCRETE}=\>", {NOSTEEL, 
            NOCONCRETE}]; \
\[IndentingNewLine]PRINT["\<{EQUAD,ETYPE,SQUAD,STYPE}=\>", {EQUAD, ETYPE, 
            SQUAD, STYPE}]; \[IndentingNewLine]PRINT["\<Geometry=\>", 
          Geometry]; 
        PRINT["\<Reinforcement=\>", 
          Reinforcement]; \[IndentingNewLine]PRINT["\<ConfinateConcrete=\>", 
          ConfinateConcrete]; 
        PRINT["\<SectionTable=\>", 
          SectionTable]; \[IndentingNewLine]PRINT["\<JointID=\>", JointID]; 
        PRINT["\<JointLOAD=\>", 
          JointLOAD]; \[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
          BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", BeamTable]; \[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]],

Cell[CellGroupData[{

Cell["R-4F", "Subsubsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[SP2C];\)\), "\n", 
    \(SP2C[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]RESET = 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 
          0.7; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.001; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.5*10^\(-8\); \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          85; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          2; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = False; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 1.5875, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[CurlyPhi] = \(-1\); \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
{{Es = 198790, 
              fy = 453.97, \[Epsilon]y = fy/Es, \[Gamma]a = 
                0.0775, \[IndentingNewLine]K = 0.01*Es, 
              H = 0.00*Es}, {fc = 30.199*\[CurlyPhi], \[Epsilon]o = 
                0.00245*\[CurlyPhi], \[Gamma]h = 
                0.0235}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= False; \[IndentingNewLine]DAMAGE = {1, 
            0.0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ *) \[IndentingNewLine]SCODE = 1; \ 
        MCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 0.22225, bmax = 0.00, 
              d = 0.4064, do = 0.00}, \[IndentingNewLine]{rs = 0.0475, 
              ri = 0.0195, rh = 0.01905, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ *) \[IndentingNewLine]Reinforcement = \
{NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
              zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
                5.94*10^\(-4\), As2 = 11.40*10^\(-4\)}, \[Phi]h = 
              6.35*10^\(-3\), sh = 0.075}; \[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
            Damage \[Rule] 
              DAMAGE]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine] \
(*\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              1}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ 
            JointLOAD\ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]HC = 
          0.27888; HT = 0.1; P = 0*0.04903; \[IndentingNewLine]H = 1.05*HC; 
        JointLOAD[\([t = 1, JO = 2]\)] = {FX = \(-P\) - H, FY = \(-H\)/2, 
            MXY = 0}; \[IndentingNewLine]H = 1.15*HT; 
        JointLOAD[\([t = 2, JO = 2]\)] = {FX = \(+P\) + H, FY = \(+H\)/2, 
            MXY = 0}; \[IndentingNewLine]H = 1.15*HC; 
        JointLOAD[\([t = 3, JO = 2]\)] = {FX = \(-P\) - H, FY = \(-H\)/2, 
            MXY = 0}; \[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]BC = 
          1; \[IndentingNewLine]BeamColumnLOAD[\([t = 1, BC]\)] = {pX = 0.00, 
            pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine]BC = 1; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ ELEMENTOS\ EN\ SUPERELEMENTO\ \
BC*) \[IndentingNewLine]NEL = 2; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\  \
\[GreaterEqual] 3*) \[IndentingNewLine]NGP = 5; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\) \
\[GreaterEqual] 3\ *) \[IndentingNewLine]NFC = 10; \[IndentingNewLine] (*\ 
          
          CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL, \[Alpha]L = 1.00, SCODE, 
                NGP, NFC, {emax = 0, emin = 0}}}}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Newton; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}=\>", {BCMAXEL, 
            MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
            REAC}]; \[IndentingNewLine]PRINT["\<JointX=\>", 
          JointX]; \[IndentingNewLine]PRINT["\<BeamColumnCN=\>", 
          BeamColumnCN]; 
        PRINT["\<MaterialTable=\>", 
          MaterialTable]; \[IndentingNewLine]PRINT["\<{CTOL,\[Epsilon]ATOL,\
\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \[CapitalPsi]TOL, 
            UTOL, OVSH}]; \
\[IndentingNewLine]PRINT["\<{NOSTEEL,NOCONCRETE}=\>", {NOSTEEL, 
            NOCONCRETE}]; \
\[IndentingNewLine]PRINT["\<{EQUAD,ETYPE,SQUAD,STYPE}=\>", {EQUAD, ETYPE, 
            SQUAD, STYPE}]; \[IndentingNewLine]PRINT["\<Geometry=\>", 
          Geometry]; 
        PRINT["\<Reinforcement=\>", 
          Reinforcement]; \[IndentingNewLine]PRINT["\<ConfinateConcrete=\>", 
          ConfinateConcrete]; 
        PRINT["\<SectionTable=\>", 
          SectionTable]; \[IndentingNewLine]PRINT["\<JointID=\>", JointID]; 
        PRINT["\<JointLOAD=\>", 
          JointLOAD]; \[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
          BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", BeamTable]; \[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["MP*-PORTICO MENEGOTTO PINTO", "Subsection",
  PageWidth->Infinity],

Cell[CellGroupData[{

Cell["MP-2: ", "Subsubsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[INPUTMP2];\)\), "\n", 
    \(INPUTMP2[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]RESET = 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 
          0.85; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.5*10^\(-8\); \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          4; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 2; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          85; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          4; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = False; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.00}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 0.00, 
            Yi = 2.13}; \[IndentingNewLine]JointX[\([3]\)] = {Xi = 2.13, 
            Yi = 2.13}; \[IndentingNewLine]JointX[\([4]\)] = {Xi = 2.13, 
            Yi = 0.00}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine]BeamColumnCN[\([2]\)] = {I = 2, 
            J = 3}; \[IndentingNewLine]BeamColumnCN[\([3]\)] = {I = 4, 
            J = 3}; \[IndentingNewLine]BeamColumnCN[\([4]\)] = {I = 1, 
            J = 4}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1;  (*CORREGIR\ ENDURECIMIENTO\ Y\ EPS\ \
0*) \[IndentingNewLine]MaterialTable[\([MCODE]\)] = {{Es = 205000, 
              fy = 385, \[Epsilon]y = fy/Es, \[Gamma]a = 
                0.0775, \[IndentingNewLine]K = 0.000*Es, 
              H = 0.02*
                  Es}, {fc = \(-28.0\), \[Epsilon]o = \(-0.00245\), \[Gamma]h \
= 0.0235}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= False; \[IndentingNewLine]DAMAGE = {1, 0.0}; \[IndentingNewLine] 
          \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ DE\ COLUMNA\ \
*) \[IndentingNewLine]SCODE = 
          1; \ \[IndentingNewLine]Geometry = {{bo = 0.1524, bmax = 0.00, 
              d = 0.1016, do = 0.00}, \[IndentingNewLine]{rs = 0.0168, 
              ri = 0.0168, rh = 0.0168, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ *) \[IndentingNewLine]Reinforcement = \
{NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
              zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
                1.42*10^\(-4\), As2 = 1.42*10^\(-4\)}, \[Phi]h = 
              6.35*10^\(-3\), 
            sh = 0.30}; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
            Damage \[Rule] 
              DAMAGE]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ DE\ VIGA\ *) \[IndentingNewLine]SCODE = 
          2; \[IndentingNewLine]Geometry = {{bo = 0.1524, bmax = 0.00, 
              d = 0.1016, do = 0.00}, \[IndentingNewLine]{rs = 0.0208, 
              ri = 0.0208, rh = 0.0208, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ *) \[IndentingNewLine]Reinforcement = \
{NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
              zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
                5.16*10^\(-4\), As2 = 5.16*10^\(-4\)}, \[Phi]h = 
              6.35*10^\(-3\), 
            sh = 0.30}; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
            Damage \[Rule] 
              DAMAGE]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine] (*\(\(**\)\(**\)\) ** \
\(\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              0}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine]JointID[\([3]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine]JointID[\([4]\)] = {UID = 0, 
            WID = 1, \[Theta]ID = 
              0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]P = 
          0.06; H = \(+0.01\)*
            P; \[IndentingNewLine]JointLOAD[\([t = 1, JO = 2]\)] = {FX = 0, 
            FY = \(-P\) - H, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO = 3]\)] = {FX = \(+2\)*H, FY = \(-P\) + H, 
            MXY = 0}; \[IndentingNewLine]H = \(-0.01\)*
            P; \[IndentingNewLine]JointLOAD[\([t = 2, JO = 2]\)] = {FX = 0, 
            FY = \(-P\) - H, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, 
              JO = 3]\)] = {FX = \(+2\)*H, FY = \(-P\) + H, 
            MXY = 0}; \[IndentingNewLine]H = \(+0.01\)*
            P; \[IndentingNewLine]JointLOAD[\([t = 3, JO = 2]\)] = {FX = 0, 
            FY = \(-P\) - H, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 3, 
              JO = 3]\)] = {FX = \(+2\)*H, FY = \(-P\) + H, 
            MXY = 0}; \[IndentingNewLine]H =. ; 
        P =. ; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]For[BC = 1, 
          BC <= BCMAXEL, \(BC++\), \[IndentingNewLine]BeamColumnLOAD[\([t = 
                  1, BC]\)] = {pX = 0.00, pY = 0.00, 
              mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
                BC]\)] = {pX = 0.00, pY = 0.00, 
              mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
                BC]\)] = {pX = 0.00, pY = 0.00, 
              mXY = 0.00};\[IndentingNewLine]]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ *) \[IndentingNewLine]MCODE = 
          1; \[IndentingNewLine]NGP = 5; \[IndentingNewLine]NFC = 
          10; \[IndentingNewLine]BeamTable[\([BC = 1]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 3, \[Alpha]L = 1.00, 
                SCODE = 1, NGP, 
                NFC, {emax = 0, 
                  emin = 0}}}}; \[IndentingNewLine]BeamTable[\([BC = 
                2]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 2, \[Alpha]L = 1.00, 
                SCODE = 2, NGP, 
                NFC, {emax = 0, 
                  emin = 0}}}}; \[IndentingNewLine]BeamTable[\([BC = 
                3]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 3, \[Alpha]L = 1.00, 
                SCODE = 1, NGP, 
                NFC, {emax = 0, 
                  emin = 0}}}}; \[IndentingNewLine]BeamTable[\([BC = 
                4]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 2, \[Alpha]L = 1.00, 
                SCODE = 2, NGP, 
                NFC, {emax = 0, emin = 0}}}}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Newton; 
        STYPE = Closed; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}=\>", {BCMAXEL, 
            MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
            REAC}]; \[IndentingNewLine]PRINT["\<JointX=\>", 
          JointX]; \[IndentingNewLine]PRINT["\<BeamColumnCN=\>", 
          BeamColumnCN]; 
        PRINT["\<MaterialTable=\>", 
          MaterialTable]; \[IndentingNewLine]PRINT["\<{CTOL,\[Epsilon]ATOL,\
\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \[CapitalPsi]TOL, 
            UTOL, OVSH}]; \
\[IndentingNewLine]PRINT["\<{NOSTEEL,NOCONCRETE}=\>", {NOSTEEL, 
            NOCONCRETE}]; \
\[IndentingNewLine]PRINT["\<{EQUAD,ETYPE,SQUAD,STYPE}=\>", {EQUAD, ETYPE, 
            SQUAD, STYPE}]; \[IndentingNewLine]PRINT["\<Geometry=\>", 
          Geometry]; 
        PRINT["\<Reinforcement=\>", 
          Reinforcement]; \[IndentingNewLine]PRINT["\<ConfinateConcrete=\>", 
          ConfinateConcrete]; 
        PRINT["\<SectionTable=\>", 
          SectionTable]; \[IndentingNewLine]PRINT["\<JointID=\>", JointID]; 
        PRINT["\<JointLOAD=\>", 
          JointLOAD]; \[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
          BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", BeamTable]; \[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]],

Cell[CellGroupData[{

Cell["MP-2-D: ", "Subsubsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[INPUTMP2D];\)\), "\n", 
    \(INPUTMP2D[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]RESET = 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 
          0.8; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.001; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.5*10^\(-8\); \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          4; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 2; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          85; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          4; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = True; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          True; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.00}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 0.00, 
            Yi = 2.13}; \[IndentingNewLine]JointX[\([3]\)] = {Xi = 2.13, 
            Yi = 2.13}; \[IndentingNewLine]JointX[\([4]\)] = {Xi = 2.13, 
            Yi = 0.00}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine]BeamColumnCN[\([2]\)] = {I = 2, 
            J = 3}; \[IndentingNewLine]BeamColumnCN[\([3]\)] = {I = 4, 
            J = 3}; \[IndentingNewLine]BeamColumnCN[\([4]\)] = {I = 1, 
            J = 4}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1;  (*CORREGIR\ ENDURECIMIENTO\ Y\ EPS\ \
0*) \[IndentingNewLine]MaterialTable[\([MCODE]\)] = {{Es = 205000, 
              fy = 385, \[Epsilon]y = fy/Es, \[Gamma]a = 
                0.0775, \[IndentingNewLine]K = 0.000*Es, 
              H = 0.02*
                  Es}, {fc = \(-28.0\), \[Epsilon]o = \(-0.00245\), \[Gamma]h \
= 0.0235}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= False; \[IndentingNewLine]DAMAGE = {1, 0.0}; \[IndentingNewLine] 
          \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ DE\ COLUMNA\ \
*) \[IndentingNewLine]SCODE = 
          1; \ \[IndentingNewLine]Geometry = {{bo = 0.1524, bmax = 0.00, 
              d = 0.1016, do = 0.00}, \[IndentingNewLine]{rs = 0.0168, 
              ri = 0.0168, rh = 0.0168, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ *) \[IndentingNewLine]Reinforcement = \
{NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
              zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
                1.42*10^\(-4\), As2 = 1.42*10^\(-4\)}, \[Phi]h = 
              6.35*10^\(-3\), 
            sh = 0.30}; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
            Damage \[Rule] 
              DAMAGE]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ DE\ VIGA\ *) \[IndentingNewLine]SCODE = 
          2; \[IndentingNewLine]Geometry = {{bo = 0.1524, bmax = 0.00, 
              d = 0.1016, do = 0.00}, \[IndentingNewLine]{rs = 0.0208, 
              ri = 0.0208, rh = 0.0208, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ *) \[IndentingNewLine]Reinforcement = \
{NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
              zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
                5.16*10^\(-4\), As2 = 5.16*10^\(-4\)}, \[Phi]h = 
              6.35*10^\(-3\), 
            sh = 0.30}; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
            Damage \[Rule] 
              DAMAGE]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine] (*\(\(**\)\(**\)\) ** \
\(\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 0, 
            WID = 1, \[Theta]ID = 
              0}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine]JointID[\([3]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine]JointID[\([4]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ 
            JointLOAD\ *) \[IndentingNewLine]H = \(+0.005\); \
\[IndentingNewLine]JointLOAD[\([t = 1, JO = 3]\)] = {FX = \(+2\)*H, FY = 0, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, 
              JO = 3]\)] = {FX = \(-2\)*H, FY = 0, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 3, 
              JO = 3]\)] = {FX = \(+2\)*H, FY = 0, 
            MXY = 0}; \[IndentingNewLine]H =. ; 
        P =. ; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]For[BC = 1, 
          BC <= BCMAXEL, \(BC++\), \[IndentingNewLine]BeamColumnLOAD[\([t = 
                  1, BC]\)] = {pX = 0.00, pY = 0.00, 
              mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
                BC]\)] = {pX = 0.00, pY = 0.00, 
              mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
                BC]\)] = {pX = 0.00, pY = 0.00, 
              mXY = 0.00};\[IndentingNewLine]]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ *) \[IndentingNewLine]MCODE = 
          1; \[IndentingNewLine]NGP = 5; \[IndentingNewLine]NFC = 
          10; \[IndentingNewLine]BeamTable[\([BC = 1]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 3, \[Alpha]L = 1.00, 
                SCODE = 1, NGP, 
                NFC, {emax = 0, 
                  emin = 0}}}}; \[IndentingNewLine]BeamTable[\([BC = 
                2]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 2, \[Alpha]L = 1.00, 
                SCODE = 2, NGP, 
                NFC, {emax = 0, 
                  emin = 0}}}}; \[IndentingNewLine]BeamTable[\([BC = 
                3]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 3, \[Alpha]L = 1.00, 
                SCODE = 1, NGP, 
                NFC, {emax = 0, 
                  emin = 0}}}}; \[IndentingNewLine]BeamTable[\([BC = 
                4]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 2, \[Alpha]L = 1.00, 
                SCODE = 2, NGP, 
                NFC, {emax = 0, emin = 0}}}}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Newton; 
        STYPE = Closed; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}=\>", {BCMAXEL, 
            MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
            REAC}]; \[IndentingNewLine]PRINT["\<JointX=\>", 
          JointX]; \[IndentingNewLine]PRINT["\<BeamColumnCN=\>", 
          BeamColumnCN]; 
        PRINT["\<MaterialTable=\>", 
          MaterialTable]; \[IndentingNewLine]PRINT["\<{CTOL,\[Epsilon]ATOL,\
\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \[CapitalPsi]TOL, 
            UTOL, OVSH}]; \
\[IndentingNewLine]PRINT["\<{NOSTEEL,NOCONCRETE}=\>", {NOSTEEL, 
            NOCONCRETE}]; \
\[IndentingNewLine]PRINT["\<{EQUAD,ETYPE,SQUAD,STYPE}=\>", {EQUAD, ETYPE, 
            SQUAD, STYPE}]; \[IndentingNewLine]PRINT["\<Geometry=\>", 
          Geometry]; 
        PRINT["\<Reinforcement=\>", 
          Reinforcement]; \[IndentingNewLine]PRINT["\<ConfinateConcrete=\>", 
          ConfinateConcrete]; 
        PRINT["\<SectionTable=\>", 
          SectionTable]; \[IndentingNewLine]PRINT["\<JointID=\>", JointID]; 
        PRINT["\<JointLOAD=\>", 
          JointLOAD]; \[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
          BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", BeamTable]; \[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["R4*- MENSULA HORMIGON ARMADO R-4", "Subsection",
  PageWidth->Infinity],

Cell[CellGroupData[{

Cell["R-4: ", "Subsubsection",
  PageWidth->Infinity,
  FontColor->RGBColor[0, 0, 1]],

Cell[BoxData[{
    \(\(Clear[R4];\)\), "\n", 
    \(R4[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = 
          False; \[IndentingNewLine]EVENTCONTROL\  = \ True; 
        RESET\  = \ 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 
          0.75; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.001; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.5*10^\(-8\); \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          85; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          2; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = False; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 1.5875, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[CurlyPhi] = \(-1\); \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
{{Es = 198790, 
              fy = 453.97, \[Epsilon]y = fy/Es, \[Gamma]a = 
                0.0775, \[IndentingNewLine]K = 0.000*Es, 
              H = 0.036*Es}, {fc = 30.199*\[CurlyPhi], \[Epsilon]o = 
                0.00245*\[CurlyPhi], \[Gamma]h = 
                0.0235}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= False; \[IndentingNewLine]DAMAGE = {1, 
            0.0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ *) \[IndentingNewLine]SCODE = 1; \ 
        MCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 0.22225, bmax = 0.00, 
              d = 0.4064, do = 0.00}, \[IndentingNewLine]{rs = 0.0475, 
              ri = 0.0195, rh = 0.01905, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ *) \[IndentingNewLine]Reinforcement = \
{NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
              zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
                5.94*10^\(-4\), As2 = 11.40*10^\(-4\)}, \[Phi]h = 
              6.35*10^\(-3\), sh = 0.075}; \[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
            Damage \[Rule] 
              DAMAGE]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine] \
(*\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              1}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]JO = 2; 
        Py = \(-0.1285269\); Pyr = \(+0.0657714\); 
        Pyrr = \(-0.1093755\); \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO]\)] = {FX = 0*Ny, FY = 1.0*Py, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, JO]\)] = {FX = 
              0*Ny, FY = 1.1*Pyr, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 3, JO]\)] = {FX = 
              0*Ny, FY = 1.0*Pyrr, MXY = 0}; \[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]BC = 
          1; \[IndentingNewLine]BeamColumnLOAD[\([t = 1, BC]\)] = {pX = 0.00, 
            pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ ELEMENTOS\ EN\ SUPERELEMENTO\ \
BC*) \[IndentingNewLine]NEL = 2; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\  \
\[GreaterEqual] 3*) \[IndentingNewLine]NGP = 5; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\) \
\[GreaterEqual] 3\ *) \[IndentingNewLine]NFC = 10; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC = 1]\)] = {\[IndentingNewLine]NT = 2, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 2, \[Alpha]L = 0.10, 
                SCODE, NGP, 
                NFC, {emax = 0, emin = 0}}, \[IndentingNewLine]{NEL = 
                  2, \[Alpha]L = 1.00, SCODE, NGP, 
                NFC, {emax = 0, 
                  emin = 0}}}\[IndentingNewLine]}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Newton; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}=\>", {BCMAXEL, 
            MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
            REAC}]; \[IndentingNewLine]PRINT["\<JointX=\>", 
          JointX]; \[IndentingNewLine]PRINT["\<BeamColumnCN=\>", 
          BeamColumnCN]; 
        PRINT["\<MaterialTable=\>", 
          MaterialTable]; \[IndentingNewLine]PRINT["\<{CTOL,\[Epsilon]ATOL,\
\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \[CapitalPsi]TOL, 
            UTOL, OVSH}]; \
\[IndentingNewLine]PRINT["\<{NOSTEEL,NOCONCRETE}=\>", {NOSTEEL, 
            NOCONCRETE}]; \
\[IndentingNewLine]PRINT["\<{EQUAD,ETYPE,SQUAD,STYPE}=\>", {EQUAD, ETYPE, 
            SQUAD, STYPE}]; \[IndentingNewLine]PRINT["\<Geometry=\>", 
          Geometry]; 
        PRINT["\<Reinforcement=\>", 
          Reinforcement]; \[IndentingNewLine]PRINT["\<ConfinateConcrete=\>", 
          ConfinateConcrete]; 
        PRINT["\<SectionTable=\>", 
          SectionTable]; \[IndentingNewLine]PRINT["\<JointID=\>", JointID]; 
        PRINT["\<JointLOAD=\>", 
          JointLOAD]; \[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
          BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", BeamTable]; \[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]],

Cell[CellGroupData[{

Cell["R-4A: ", "Subsubsection",
  PageWidth->Infinity,
  FontColor->RGBColor[0, 0, 1]],

Cell[BoxData[{
    \(\(Clear[R4A];\)\), "\n", 
    \(R4A[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]EVENTCONTROL = 
          True; RESET\  = \ 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 
          0.75; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.001; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.5*10^\(-8\); \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          100; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          2; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = False; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 1.5875, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[CurlyPhi] = \(-1\); \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
{{Es = 198790, 
              fy = 453.97, \[Epsilon]y = fy/Es, \[Gamma]a = 
                0.0775, \[IndentingNewLine]K = 0.000*Es, 
              H = 0.036*Es}, {fc = 30.199*\[CurlyPhi], \[Epsilon]o = 
                0.00245*\[CurlyPhi], \[Gamma]h = 
                0.0235}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= False; \[IndentingNewLine]DAMAGE = {1, 
            0.0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ *) \[IndentingNewLine]SCODE = 1; \ 
        MCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 0.22225, bmax = 0.00, 
              d = 0.4064, do = 0.00}, \[IndentingNewLine]{rs = 0.0475, 
              ri = 0.0195, rh = 0.01905, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ *) \[IndentingNewLine]Reinforcement = \
{NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
              zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
                5.94*10^\(-4\), As2 = 11.40*10^\(-4\)}, \[Phi]h = 
              6.35*10^\(-3\), sh = 0.075}; \[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
            Damage \[Rule] 
              DAMAGE]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine] \
(*\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              1}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]JO = 2; 
        Py = \(-0.1285269\); Pyr = \(+0.0657714\); 
        Pyrr = \(-0.1093755\); \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO]\)] = {FX = 0*Ny, FY = 1.0*Py, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, JO]\)] = {FX = 
              0*Ny, FY = 1.1*Pyr, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 3, JO]\)] = {FX = 
              0*Ny, FY = 1.0*Pyrr, MXY = 0}; \[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]BC = 
          1; \[IndentingNewLine]BeamColumnLOAD[\([t = 1, BC]\)] = {pX = 0.00, 
            pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ ELEMENTOS\ EN\ SUPERELEMENTO\ \
BC*) \[IndentingNewLine]NEL = 2; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\  \
\[GreaterEqual] 3*) \[IndentingNewLine]NGP = 5; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\) \
\[GreaterEqual] 3\ *) \[IndentingNewLine]NFC = 10; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC = 1]\)] = {\[IndentingNewLine]NT = 2, 
            MCODE = 1, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 3, \[Alpha]L = 0.20, 
                SCODE, NGP = 5, 
                NFC, {emax = 0, emin = 0}}, \[IndentingNewLine]{NEL = 
                  3, \[Alpha]L = 1.00, SCODE, NGP = 5, 
                NFC, {emax = 0, 
                  emin = 0}}}\[IndentingNewLine]}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Newton; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}=\>", {BCMAXEL, 
            MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
            REAC}]; \[IndentingNewLine]PRINT["\<JointX=\>", 
          JointX]; \[IndentingNewLine]PRINT["\<BeamColumnCN=\>", 
          BeamColumnCN]; 
        PRINT["\<MaterialTable=\>", 
          MaterialTable]; \[IndentingNewLine]PRINT["\<{CTOL,\[Epsilon]ATOL,\
\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \[CapitalPsi]TOL, 
            UTOL, OVSH}]; \
\[IndentingNewLine]PRINT["\<{NOSTEEL,NOCONCRETE}=\>", {NOSTEEL, 
            NOCONCRETE}]; \
\[IndentingNewLine]PRINT["\<{EQUAD,ETYPE,SQUAD,STYPE}=\>", {EQUAD, ETYPE, 
            SQUAD, STYPE}]; \[IndentingNewLine]PRINT["\<Geometry=\>", 
          Geometry]; 
        PRINT["\<Reinforcement=\>", 
          Reinforcement]; \[IndentingNewLine]PRINT["\<ConfinateConcrete=\>", 
          ConfinateConcrete]; 
        PRINT["\<SectionTable=\>", 
          SectionTable]; \[IndentingNewLine]PRINT["\<JointID=\>", JointID]; 
        PRINT["\<JointLOAD=\>", 
          JointLOAD]; \[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
          BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", BeamTable]; \[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]],

Cell[CellGroupData[{

Cell["R-4B: ", "Subsubsection",
  PageWidth->Infinity,
  FontColor->RGBColor[0, 0, 1]],

Cell[BoxData[{
    \(\(Clear[R4A];\)\), "\n", 
    \(R4A[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]EVENTCONTROL = 
          True; RESET\  = \ 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 
          0.75; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.001; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.5*10^\(-8\); \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          100; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          2; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = False; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 1.5875, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[CurlyPhi] = \(-1\); \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
{{Es = 198790, 
              fy = 453.97, \[Epsilon]y = fy/Es, \[Gamma]a = 
                0.0775, \[IndentingNewLine]K = 0.000*Es, 
              H = 0.036*Es}, {fc = 30.199*\[CurlyPhi], \[Epsilon]o = 
                0.00245*\[CurlyPhi], \[Gamma]h = 
                0.0235}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= False; \[IndentingNewLine]DAMAGE = {1, 
            0.0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ *) \[IndentingNewLine]SCODE = 1; \ 
        MCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 0.22225, bmax = 0.00, 
              d = 0.4064, do = 0.00}, \[IndentingNewLine]{rs = 0.0475, 
              ri = 0.0195, rh = 0.01905, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ *) \[IndentingNewLine]Reinforcement = \
{NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
              zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
                5.94*10^\(-4\), As2 = 11.40*10^\(-4\)}, \[Phi]h = 
              6.35*10^\(-3\), sh = 0.075}; \[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
            Damage \[Rule] 
              DAMAGE]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine] \
(*\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              1}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]JO = 2; 
        Py = \(-0.1285269\); Pyr = \(+0.0657714\); 
        Pyrr = \(-0.1093755\); \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO]\)] = {FX = 0*Ny, FY = 1.0*Py, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, JO]\)] = {FX = 
              0*Ny, FY = 1.1*Pyr, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 3, JO]\)] = {FX = 
              0*Ny, FY = 1.0*Pyrr, MXY = 0}; \[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]BC = 
          1; \[IndentingNewLine]BeamColumnLOAD[\([t = 1, BC]\)] = {pX = 0.00, 
            pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ ELEMENTOS\ EN\ SUPERELEMENTO\ \
BC*) \[IndentingNewLine]NEL = 2; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\  \
\[GreaterEqual] 3*) \[IndentingNewLine]NGP = 5; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\) \
\[GreaterEqual] 3\ *) \[IndentingNewLine]NFC = 10; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC = 1]\)] = {\[IndentingNewLine]NT = 2, 
            MCODE = 1, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 3, \[Alpha]L = 0.20, 
                SCODE, NGP = 5, 
                NFC, {emax = 0, emin = 0}}, \[IndentingNewLine]{NEL = 
                  3, \[Alpha]L = 1.00, SCODE, NGP = 5, 
                NFC, {emax = 0, 
                  emin = 0}}}\[IndentingNewLine]}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Newton; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}=\>", {BCMAXEL, 
            MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
            REAC}]; \[IndentingNewLine]PRINT["\<JointX=\>", 
          JointX]; \[IndentingNewLine]PRINT["\<BeamColumnCN=\>", 
          BeamColumnCN]; 
        PRINT["\<MaterialTable=\>", 
          MaterialTable]; \[IndentingNewLine]PRINT["\<{CTOL,\[Epsilon]ATOL,\
\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \[CapitalPsi]TOL, 
            UTOL, OVSH}]; \
\[IndentingNewLine]PRINT["\<{NOSTEEL,NOCONCRETE}=\>", {NOSTEEL, 
            NOCONCRETE}]; \
\[IndentingNewLine]PRINT["\<{EQUAD,ETYPE,SQUAD,STYPE}=\>", {EQUAD, ETYPE, 
            SQUAD, STYPE}]; \[IndentingNewLine]PRINT["\<Geometry=\>", 
          Geometry]; 
        PRINT["\<Reinforcement=\>", 
          Reinforcement]; \[IndentingNewLine]PRINT["\<ConfinateConcrete=\>", 
          ConfinateConcrete]; 
        PRINT["\<SectionTable=\>", 
          SectionTable]; \[IndentingNewLine]PRINT["\<JointID=\>", JointID]; 
        PRINT["\<JointLOAD=\>", 
          JointLOAD]; \[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
          BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", BeamTable]; \[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["SB* - ESTRUCTURA DE ACERO", "Subsection",
  PageWidth->Infinity],

Cell[CellGroupData[{

Cell["SB1", "Subsubsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[SB1];\)\), "\n", 
    \(SB1[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]EVENTCONTROL = 
          True; \[IndentingNewLine]EVENTCONTROL = 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 0.80; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ %\ fluencia\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.00005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          3; \[IndentingNewLine]MAXMAT = 2; \[IndentingNewLine]MAXSEC = 
          2; \[IndentingNewLine]MAXLOAD = 1; \[IndentingNewLine]MAXIT = 
          60; \[IndentingNewLine]BCMAXND = 4; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]SHEAR \
= False; \[IndentingNewLine]HIGH = False; \[IndentingNewLine]GRAV = 
          False; \[IndentingNewLine]REAC = True; \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 
              2.9591818, 
            Yi = 0.50}; \[IndentingNewLine]JointX[\([3]\)] = {Xi = 5.9183635, 
            Yi = 0.00}; \[IndentingNewLine]JointX[\([4]\)] = {Xi = 2.9591818, 
            Yi = 3.50}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine]BeamColumnCN[\([2]\)] = {I = 2, 
            J = 3}; \[IndentingNewLine]BeamColumnCN[\([3]\)] = {I = 2, 
            J = 4}; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \[IndentingNewLine]{{Es \
= 210000. , fy = 240.0, \[Epsilon]y = fy/Es, \[Gamma]a = 0.0775, 
              K = 0.005*Es, 
              H = 0*Es}, \[IndentingNewLine]{fc = 0, \[Epsilon]o = 
                0, \[Gamma]h = 
                0}}; \[IndentingNewLine]\[IndentingNewLine]MCODE = 
          2; \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
\[IndentingNewLine]{{Es = 2100. , 
              fy = 10000*240, \[Epsilon]y = fy/Es, \[Gamma]a = 0.0775, 
              K = 0.5*Es, 
              H = 0*Es}, \[IndentingNewLine]{fc = 0, \[Epsilon]o = 
                0, \[Gamma]h = 0}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= True; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ IPB\ 260\ *) \[IndentingNewLine]MCODE = 
          1; \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]SCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 260*10^\(-3\), bmax = 0.00, 
              d = 113*10^\(-3\), do = 0.00}, {rs = 0, ri = 0, rh = 0, 
              hk = d - rs - ri, bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ z < 0 = \(INF\ \ z > 0 = 
              
              SUP\)*) \[IndentingNewLine]Reinforcement = \
\[IndentingNewLine]{NFS = 14, {zs1 = \(-128\)*10^\(-3\), 
              zs2 = \(-124\)*10^\(-3\), zs3 = \(-120\)*10^\(-3\), 
              zs4 = \(-116\)*10^\(-3\), zs5 = \(-109\)*10^\(-3\), 
              zs6 = \(-78\)*10^\(-3\), 
              zs7 = \(-26\)*10^\(-3\), \[IndentingNewLine]zs8 = \(-zs7\), 
              zs9 = \(-zs6\), zs10 = \(-zs5\), zs11 = \(-zs4\), 
              zs12 = \(-zs3\), zs13 = \(-zs2\), 
              zs14 = \(-zs1\)}, \[IndentingNewLine]{As1 = 452*10^\(-6\), 
              As2 = 449*10^\(-6\), As3 = 396*10^\(-6\), As4 = 232*10^\(-6\), 
              As5 = 186*10^\(-6\), As6 = 488*10^\(-6\), 
              As7 = 488*10^\(-6\), \[IndentingNewLine]As8 = As7, As9 = As6, 
              As10 = As5, As11 = As4, As12 = As3, As13 = As2, 
              As14 = As1}, \[Phi]h = 0*10^\(-3\), 
            sh = 0.15}; \[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, 
            Concrete]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, ConfinateConcrete}; \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ TENSOR\ *) \[IndentingNewLine]MCODE = 
          2; \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]SCODE = 
          2; \[IndentingNewLine]Geometry = {{bo = 0.1, bmax = 0.00, d = 0.1, 
              do = 0.00}, {rs = 0, ri = 0, rh = 0, hk = d - rs - ri, 
              bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ z < 0 = \(INF\ \ z > 0 = 
              SUP\)*) \[IndentingNewLine]Reinforcement = \
\[IndentingNewLine]{NFS = 2, {zs1 = \(-0.005\), 
              zs2 = \(+0.005\)}, {As1 = 1.0*10^\(-4\), 
              As2 = 1.0*10^\(-4\)}, \[Phi]h = 0*10^\(-3\), 
            sh = 0.15}; \[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, 
            Concrete]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine] \
(*\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              0}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine]JointID[\([3]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              0}; \[IndentingNewLine]JointID[\([4]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              0}; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ 
            JointLOAD\ *) \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO = 2]\)] = {FX = 0, FY = \(-4.5\), 
            MXY = 0}; \[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]For[BC = 1, 
          BC \[LessEqual] 
            3, \(BC++\), \[IndentingNewLine]\(BeamColumnLOAD[\([t = 1, 
                  BC]\)] = {pX = 0.00, pY = 0.00, 
                mXY = 0.00};\)\[IndentingNewLine]]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]NGP = 3; \[IndentingNewLine]NFC = 
          3; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC = 1]\)] = {NT = 1, 
            MCODE = 1, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 3, \[Alpha]L = 1.00, 
                SCODE = 1, NGP, 
                NFC, {emax = 0, 
                  emin = 0}}}}; \[IndentingNewLine]BeamTable[\([BC = 
                2]\)] = {NT = 1, 
            MCODE = 1, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 3, \[Alpha]L = 1.00, 
                SCODE = 1, NGP, 
                NFC, {emax = 0, 
                  emin = 0}}}}; \[IndentingNewLine]BeamTable[\([BC = 
                3]\)] = {NT = 1, 
            MCODE = 2, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL = 2, \[Alpha]L = 1.00, 
                SCODE = 2, NGP, 
                NFC, {emax = 0, emin = 0}}}}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Gauss; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}=\>", {BCMAXEL, 
            MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
            REAC}]; \[IndentingNewLine]PRINT["\<JointX=\>", 
          JointX]; \[IndentingNewLine]PRINT["\<BeamColumnCN=\>", 
          BeamColumnCN]; 
        PRINT["\<MaterialTable=\>", 
          MaterialTable]; \[IndentingNewLine]PRINT["\<{CTOL,\[Epsilon]ATOL,\
\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \[CapitalPsi]TOL, 
            UTOL, OVSH}]; \
\[IndentingNewLine]PRINT["\<{NOSTEEL,NOCONCRETE}=\>", {NOSTEEL, 
            NOCONCRETE}]; \
\[IndentingNewLine]PRINT["\<{EQUAD,ETYPE,SQUAD,STYPE}=\>", {EQUAD, ETYPE, 
            SQUAD, STYPE}]; \[IndentingNewLine]PRINT["\<Geometry=\>", 
          Geometry]; 
        PRINT["\<Reinforcement=\>", 
          Reinforcement]; \[IndentingNewLine]PRINT["\<ConfinateConcrete=\>", 
          ConfinateConcrete]; 
        PRINT["\<SectionTable=\>", 
          SectionTable]; \[IndentingNewLine]PRINT["\<JointID=\>", JointID]; 
        PRINT["\<JointLOAD=\>", 
          JointLOAD]; \[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
          BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", BeamTable]; \[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["ST1* - MENSULA DE ACERO IPN 260", "Subsection",
  PageWidth->Infinity],

Cell[CellGroupData[{

Cell["ST10-A", "Subsubsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[ST10A];\)\), "\n", 
    \(ST10A[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]EVENTCONTROL = 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 0.60; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ %\ fluencia\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.00005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          30; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          2; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = False; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 1.00, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[CurlyPhi] = \(-1\); \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
\[IndentingNewLine]{{Es = 210000. , 
              fy = 240.0, \[Epsilon]y = fy/Es, \[Gamma]a = 0.0775, 
              K = 0.025*Es, 
              H = 0*Es}, \[IndentingNewLine]{fc = 0, \[Epsilon]o = 
                0, \[Gamma]h = 0}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= True; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ IPB\ 260\ *) \[IndentingNewLine]SCODE = 
          1; \ MCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 260*10^\(-3\), bmax = 0.00, 
              d = 113*10^\(-3\), do = 0.00}, {rs = 0, ri = 0, rh = 0, 
              hk = d - rs - ri, bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ z < 0 = \(INF\ \ z > 0 = 
              SUP\)*) \[IndentingNewLine]Reinforcement = \
\[IndentingNewLine]{NFS = 14, {zs1 = \(-128\)*10^\(-3\), 
              zs2 = \(-124\)*10^\(-3\), zs3 = \(-120\)*10^\(-3\), 
              zs4 = \(-116\)*10^\(-3\), zs5 = \(-109\)*10^\(-3\), 
              zs6 = \(-78\)*10^\(-3\), 
              zs7 = \(-26\)*10^\(-3\), \[IndentingNewLine]zs8 = \(-zs7\), 
              zs9 = \(-zs6\), zs10 = \(-zs5\), zs11 = \(-zs4\), 
              zs12 = \(-zs3\), zs13 = \(-zs2\), 
              zs14 = \(-zs1\)}, \[IndentingNewLine]{As1 = 452*10^\(-6\), 
              As2 = 449*10^\(-6\), As3 = 396*10^\(-6\), As4 = 232*10^\(-6\), 
              As5 = 186*10^\(-6\), As6 = 488*10^\(-6\), 
              As7 = 488*10^\(-6\), \[IndentingNewLine]As8 = As7, As9 = As6, 
              As10 = As5, As11 = As4, As12 = As3, As13 = As2, 
              As14 = As1}, \[Phi]h = 0*10^\(-3\), 
            sh = 0.15}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, 
            Concrete]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine]\[IndentingNewLine] (*\(\
**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              1}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]JO = 2; 
        Py = 1.2474; 
        My = 0.1040; \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO]\)] = {FX = \(-0.2\)*Py, FY = \(-1.3\)*My, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, 
              JO]\)] = {FX = \(-0.2\)*Py, FY = \(+1.4\)*My, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 3, 
              JO]\)] = {FX = \(-0.2\)*Py, FY = \(-1.5\)*My, 
            MXY = 0}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]BC = 
          1; \[IndentingNewLine]BeamColumnLOAD[\([t = 1, BC]\)] = {pX = 0.00, 
            pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]\[IndentingNewLine]\
\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine]BC = 1; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ ELEMENTOS\ EN\ SUPERELEMENTO\ \
BC*) \[IndentingNewLine]NEL = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\ \
*) \[IndentingNewLine]NGP = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\)\ \
*) \[IndentingNewLine]NFC = 3; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL, \[Alpha]L = 1.00, SCODE, 
                NGP, NFC, {emax = 0, emin = 0}}}}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Gauss; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}\
=\>", {BCMAXEL, MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]\(PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
                REAC}];\)\[IndentingNewLine]\(PRINT["\<JointX=\>", 
              JointX];\)\[IndentingNewLine]\(PRINT["\<BeamColumnCN=\>", 
            BeamColumnCN]; 
          PRINT["\<MaterialTable=\>", 
            MaterialTable];\)\[IndentingNewLine]\(PRINT["\<{CTOL,\[Epsilon]\
ATOL,\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \
\[CapitalPsi]TOL, UTOL, 
                OVSH}];\)\[IndentingNewLine]\(PRINT["\<{NOSTEEL,NOCONCRETE}=\>\
", {NOSTEEL, 
                NOCONCRETE}];\)\[IndentingNewLine]\(PRINT["\<{EQUAD,ETYPE,\
SQUAD,STYPE}=\>", {EQUAD, ETYPE, SQUAD, 
                STYPE}];\)\[IndentingNewLine]\(PRINT["\<Geometry=\>", 
            Geometry]; 
          PRINT["\<Reinforcement=\>", 
            
            Reinforcement];\)\[IndentingNewLine]\(PRINT["\<ConfinateConcrete=\
\>", ConfinateConcrete]; 
          PRINT["\<SectionTable=\>", 
            SectionTable];\)\[IndentingNewLine]\(PRINT["\<JointID=\>", 
            JointID]; 
          PRINT["\<JointLOAD=\>", 
            JointLOAD];\)\[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
            BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", 
          BeamTable]; \[IndentingNewLine]\[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Open  ]],

Cell[CellGroupData[{

Cell["ST10-B", "Subsubsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[ST10B];\)\), "\n", 
    \(ST10B[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]EVENTCONTROL = 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 0.60; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ %\ fluencia\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.00005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          30; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          2; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = False; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 1.00, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[CurlyPhi] = \(-1\); \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
\[IndentingNewLine]{{Es = 210000. , 
              fy = 240.0, \[Epsilon]y = fy/Es, \[Gamma]a = 0.0775, 
              K = 0.025*Es, 
              H = 0*Es}, \[IndentingNewLine]{fc = 0, \[Epsilon]o = 
                0, \[Gamma]h = 0}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= True; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ IPB\ 260\ *) \[IndentingNewLine]SCODE = 
          1; \ MCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 260*10^\(-3\), bmax = 0.00, 
              d = 113*10^\(-3\), do = 0.00}, {rs = 0, ri = 0, rh = 0, 
              hk = d - rs - ri, bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ z < 0 = \(INF\ \ z > 0 = 
              SUP\)*) \[IndentingNewLine]Reinforcement = \
\[IndentingNewLine]{NFS = 14, {zs1 = \(-128\)*10^\(-3\), 
              zs2 = \(-124\)*10^\(-3\), zs3 = \(-120\)*10^\(-3\), 
              zs4 = \(-116\)*10^\(-3\), zs5 = \(-109\)*10^\(-3\), 
              zs6 = \(-78\)*10^\(-3\), 
              zs7 = \(-26\)*10^\(-3\), \[IndentingNewLine]zs8 = \(-zs7\), 
              zs9 = \(-zs6\), zs10 = \(-zs5\), zs11 = \(-zs4\), 
              zs12 = \(-zs3\), zs13 = \(-zs2\), 
              zs14 = \(-zs1\)}, \[IndentingNewLine]{As1 = 452*10^\(-6\), 
              As2 = 449*10^\(-6\), As3 = 396*10^\(-6\), As4 = 232*10^\(-6\), 
              As5 = 186*10^\(-6\), As6 = 488*10^\(-6\), 
              As7 = 488*10^\(-6\), \[IndentingNewLine]As8 = As7, As9 = As6, 
              As10 = As5, As11 = As4, As12 = As3, As13 = As2, 
              As14 = As1}, \[Phi]h = 0*10^\(-3\), 
            sh = 0.15}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, 
            Concrete]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine]\[IndentingNewLine] (*\(\
**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              1}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]JO = 2; 
        Py = 1.2474; 
        My = 0.1040; \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO]\)] = {FX = \(-0.35\)*Py, FY = \(-1.3\)*My, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, 
              JO]\)] = {FX = \(-0.35\)*Py, FY = \(+1.4\)*My, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 3, 
              JO]\)] = {FX = \(-0.35\)*Py, FY = \(-1.5\)*My, 
            MXY = 0}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]BC = 
          1; \[IndentingNewLine]BeamColumnLOAD[\([t = 1, BC]\)] = {pX = 0.00, 
            pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]\[IndentingNewLine]\
\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine]BC = 1; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ ELEMENTOS\ EN\ SUPERELEMENTO\ \
BC*) \[IndentingNewLine]NEL = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\ \
*) \[IndentingNewLine]NGP = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\)\ \
*) \[IndentingNewLine]NFC = 3; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL, \[Alpha]L = 1.00, SCODE, 
                NGP, NFC, {emax = 0, emin = 0}}}}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Gauss; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}\
=\>", {BCMAXEL, MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]\(PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
                REAC}];\)\[IndentingNewLine]\(PRINT["\<JointX=\>", 
              JointX];\)\[IndentingNewLine]\(PRINT["\<BeamColumnCN=\>", 
            BeamColumnCN]; 
          PRINT["\<MaterialTable=\>", 
            MaterialTable];\)\[IndentingNewLine]\(PRINT["\<{CTOL,\[Epsilon]\
ATOL,\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \
\[CapitalPsi]TOL, UTOL, 
                OVSH}];\)\[IndentingNewLine]\(PRINT["\<{NOSTEEL,NOCONCRETE}=\>\
", {NOSTEEL, 
                NOCONCRETE}];\)\[IndentingNewLine]\(PRINT["\<{EQUAD,ETYPE,\
SQUAD,STYPE}=\>", {EQUAD, ETYPE, SQUAD, 
                STYPE}];\)\[IndentingNewLine]\(PRINT["\<Geometry=\>", 
            Geometry]; 
          PRINT["\<Reinforcement=\>", 
            
            Reinforcement];\)\[IndentingNewLine]\(PRINT["\<ConfinateConcrete=\
\>", ConfinateConcrete]; 
          PRINT["\<SectionTable=\>", 
            SectionTable];\)\[IndentingNewLine]\(PRINT["\<JointID=\>", 
            JointID]; 
          PRINT["\<JointLOAD=\>", 
            JointLOAD];\)\[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
            BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", 
          BeamTable]; \[IndentingNewLine]\[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Open  ]],

Cell[CellGroupData[{

Cell["ST10-C", "Subsubsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[ST10C];\)\), "\n", 
    \(ST10C[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]EVENTCONTROL = 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 0.60; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ %\ fluencia\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.00005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          30; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          2; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = False; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 1.00, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[CurlyPhi] = \(-1\); \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
\[IndentingNewLine]{{Es = 210000. , 
              fy = 240.0, \[Epsilon]y = fy/Es, \[Gamma]a = 0.0775, 
              K = 0.025*Es, 
              H = 0*Es}, \[IndentingNewLine]{fc = 0, \[Epsilon]o = 
                0, \[Gamma]h = 0}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= True; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ IPB\ 260\ *) \[IndentingNewLine]SCODE = 
          1; \ MCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 260*10^\(-3\), bmax = 0.00, 
              d = 113*10^\(-3\), do = 0.00}, {rs = 0, ri = 0, rh = 0, 
              hk = d - rs - ri, bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ z < 0 = \(INF\ \ z > 0 = 
              SUP\)*) \[IndentingNewLine]Reinforcement = \
\[IndentingNewLine]{NFS = 14, {zs1 = \(-128\)*10^\(-3\), 
              zs2 = \(-124\)*10^\(-3\), zs3 = \(-120\)*10^\(-3\), 
              zs4 = \(-116\)*10^\(-3\), zs5 = \(-109\)*10^\(-3\), 
              zs6 = \(-78\)*10^\(-3\), 
              zs7 = \(-26\)*10^\(-3\), \[IndentingNewLine]zs8 = \(-zs7\), 
              zs9 = \(-zs6\), zs10 = \(-zs5\), zs11 = \(-zs4\), 
              zs12 = \(-zs3\), zs13 = \(-zs2\), 
              zs14 = \(-zs1\)}, \[IndentingNewLine]{As1 = 452*10^\(-6\), 
              As2 = 449*10^\(-6\), As3 = 396*10^\(-6\), As4 = 232*10^\(-6\), 
              As5 = 186*10^\(-6\), As6 = 488*10^\(-6\), 
              As7 = 488*10^\(-6\), \[IndentingNewLine]As8 = As7, As9 = As6, 
              As10 = As5, As11 = As4, As12 = As3, As13 = As2, 
              As14 = As1}, \[Phi]h = 0*10^\(-3\), 
            sh = 0.15}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, 
            Concrete]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine]\[IndentingNewLine] (*\(\
**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              1}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]JO = 2; 
        Py = 1.2474; 
        My = 0.1040; \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO]\)] = {FX = \(-0\)*Py, FY = \(-1.3\)*My, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, 
              JO]\)] = {FX = \(-0\)*Py, FY = \(+1.4\)*My, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 3, 
              JO]\)] = {FX = \(-0\)*Py, FY = \(-1.5\)*My, 
            MXY = 0}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]BC = 
          1; \[IndentingNewLine]BeamColumnLOAD[\([t = 1, BC]\)] = {pX = 0.00, 
            pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]\[IndentingNewLine]\
\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine]BC = 1; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ ELEMENTOS\ EN\ SUPERELEMENTO\ \
BC*) \[IndentingNewLine]NEL = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\ \
*) \[IndentingNewLine]NGP = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\)\ \
*) \[IndentingNewLine]NFC = 3; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL, \[Alpha]L = 1.00, SCODE, 
                NGP, NFC, {emax = 0, emin = 0}}}}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Gauss; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}\
=\>", {BCMAXEL, MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]\(PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
                REAC}];\)\[IndentingNewLine]\(PRINT["\<JointX=\>", 
              JointX];\)\[IndentingNewLine]\(PRINT["\<BeamColumnCN=\>", 
            BeamColumnCN]; 
          PRINT["\<MaterialTable=\>", 
            MaterialTable];\)\[IndentingNewLine]\(PRINT["\<{CTOL,\[Epsilon]\
ATOL,\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \
\[CapitalPsi]TOL, UTOL, 
                OVSH}];\)\[IndentingNewLine]\(PRINT["\<{NOSTEEL,NOCONCRETE}=\>\
", {NOSTEEL, 
                NOCONCRETE}];\)\[IndentingNewLine]\(PRINT["\<{EQUAD,ETYPE,\
SQUAD,STYPE}=\>", {EQUAD, ETYPE, SQUAD, 
                STYPE}];\)\[IndentingNewLine]\(PRINT["\<Geometry=\>", 
            Geometry]; 
          PRINT["\<Reinforcement=\>", 
            
            Reinforcement];\)\[IndentingNewLine]\(PRINT["\<ConfinateConcrete=\
\>", ConfinateConcrete]; 
          PRINT["\<SectionTable=\>", 
            SectionTable];\)\[IndentingNewLine]\(PRINT["\<JointID=\>", 
            JointID]; 
          PRINT["\<JointLOAD=\>", 
            JointLOAD];\)\[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
            BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", 
          BeamTable]; \[IndentingNewLine]\[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]],

Cell[CellGroupData[{

Cell["ST11: SHEAR", "Subsubsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[INPUTST11];\)\), "\n", 
    \(INPUTST11[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]EVENTCONTROL = 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 0.60; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ %\ fluencia\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.00005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          30; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          1; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = True; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          False; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 1.00, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[CurlyPhi] = \(-1\); \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
\[IndentingNewLine]{{Es = 210000. , 
              fy = 240.0, \[Epsilon]y = fy/Es, \[Gamma]a = 0.0775, 
              K = 0.025*Es, 
              H = 0*Es}, \[IndentingNewLine]{fc = 0, \[Epsilon]o = 
                0, \[Gamma]h = 0}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= True; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ IPB\ 260\ *) \[IndentingNewLine]SCODE = 
          1; \ MCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 260*10^\(-3\), bmax = 0.00, 
              d = 113*10^\(-3\), do = 0.00}, {rs = 0, ri = 0, rh = 0, 
              hk = d - rs - ri, bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ z < 0 = \(INF\ \ z > 0 = 
              SUP\)*) \[IndentingNewLine]Reinforcement = \
\[IndentingNewLine]{NFS = 14, {zs1 = \(-128\)*10^\(-3\), 
              zs2 = \(-124\)*10^\(-3\), zs3 = \(-120\)*10^\(-3\), 
              zs4 = \(-116\)*10^\(-3\), zs5 = \(-109\)*10^\(-3\), 
              zs6 = \(-78\)*10^\(-3\), 
              zs7 = \(-26\)*10^\(-3\), \[IndentingNewLine]zs8 = \(-zs7\), 
              zs9 = \(-zs6\), zs10 = \(-zs5\), zs11 = \(-zs4\), 
              zs12 = \(-zs3\), zs13 = \(-zs2\), 
              zs14 = \(-zs1\)}, \[IndentingNewLine]{As1 = 452*10^\(-6\), 
              As2 = 449*10^\(-6\), As3 = 396*10^\(-6\), As4 = 232*10^\(-6\), 
              As5 = 186*10^\(-6\), As6 = 488*10^\(-6\), 
              As7 = 488*10^\(-6\), \[IndentingNewLine]As8 = As7, As9 = As6, 
              As10 = As5, As11 = As4, As12 = As3, As13 = As2, 
              As14 = As1}, \[Phi]h = 0*10^\(-3\), 
            sh = 0.15}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, 
            Concrete]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine]\[IndentingNewLine] (*\(\
**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              1}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]JO = 2; 
        Py = 1.2474; 
        My = 0.1040; \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO]\)] = {FX = \(-0.2\)*Py, FY = \(-1.3\)*My, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, 
              JO]\)] = {FX = \(-0.2\)*Py, FY = \(+1.4\)*My, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 3, 
              JO]\)] = {FX = \(-0.2\)*Py, FY = \(-1.5\)*My, 
            MXY = 0}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]BC = 
          1; \[IndentingNewLine]BeamColumnLOAD[\([t = 1, BC]\)] = {pX = 0.00, 
            pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]\[IndentingNewLine]\
\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine]BC = 1; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ ELEMENTOS\ EN\ SUPERELEMENTO\ \
BC*) \[IndentingNewLine]NEL = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\ \
*) \[IndentingNewLine]NGP = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\)\ \
*) \[IndentingNewLine]NFC = 3; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL, \[Alpha]L = 1.00, SCODE, 
                NGP, NFC, {emax = 0, emin = 0}}}}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Gauss; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}\
=\>", {BCMAXEL, MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]\(PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
                REAC}];\)\[IndentingNewLine]\(PRINT["\<JointX=\>", 
              JointX];\)\[IndentingNewLine]\(PRINT["\<BeamColumnCN=\>", 
            BeamColumnCN]; 
          PRINT["\<MaterialTable=\>", 
            MaterialTable];\)\[IndentingNewLine]\(PRINT["\<{CTOL,\[Epsilon]\
ATOL,\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \
\[CapitalPsi]TOL, UTOL, 
                OVSH}];\)\[IndentingNewLine]\(PRINT["\<{NOSTEEL,NOCONCRETE}=\>\
", {NOSTEEL, 
                NOCONCRETE}];\)\[IndentingNewLine]\(PRINT["\<{EQUAD,ETYPE,\
SQUAD,STYPE}=\>", {EQUAD, ETYPE, SQUAD, 
                STYPE}];\)\[IndentingNewLine]\(PRINT["\<Geometry=\>", 
            Geometry]; 
          PRINT["\<Reinforcement=\>", 
            
            Reinforcement];\)\[IndentingNewLine]\(PRINT["\<ConfinateConcrete=\
\>", ConfinateConcrete]; 
          PRINT["\<SectionTable=\>", 
            SectionTable];\)\[IndentingNewLine]\(PRINT["\<JointID=\>", 
            JointID]; 
          PRINT["\<JointLOAD=\>", 
            JointLOAD];\)\[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
            BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", 
          BeamTable]; \[IndentingNewLine]\[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]],

Cell[CellGroupData[{

Cell["ST12: SHEAR+HIGH", "Subsubsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[INPUTST12];\)\), "\n", 
    \(INPUTST12[] := 
      Module[{}, \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SALIDA\ DE\ DATOS\ Y\ DEPURACION\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]ECHO \
= True; \[IndentingNewLine]VERBOSE = False; \[IndentingNewLine]EVENTCONTROL = 
          True; \[IndentingNewLine]InputFilename = "\<Null\>"; \
\[IndentingNewLine]OutputFilename = "\<Null\>"; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ELEMENTOS\ Y\ GRADOS\ DE\ LIBERTAD\ A\ TRACEAR\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]EIDX \
= 1; SIDX = 1; MIDX = 1; \[IndentingNewLine]RDOF = 2; 
        UDOF = 2; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ CONVERGENCIA\ NUMERICA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PARAMETRO\ DE\ CONVERGENCIA\ 1\  \[LessEqual] \ \[Mu]\  \
\[LessEqual] \ 0\ *) \[IndentingNewLine]\[Mu] = 0.60; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ERROR\ ABSOLUTO\ DE\ TRUNCAMIENTO\ \
*) \[IndentingNewLine]CTOL = 0.5*10^\(-9\); \[IndentingNewLine] (*\ 
          FACTOR\ DE\ OVERSHOOTING\ %\ fluencia\ *) \[IndentingNewLine]OVSH = 
          25/100; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ FUERZA\ DESBALANCEADA*) \[IndentingNewLine]\
\[CapitalPsi]TOL = 0.01; \[IndentingNewLine] (*\ 
          TOLERANCIA\ ABSOLUTA\ EVENTOS\ *) \[IndentingNewLine]\[Lambda]TOL = 
          0.005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ DE\ DESPLAZAMIENTOS\ \
*) \[IndentingNewLine]UTOL = 0.00005; \[IndentingNewLine] (*\ 
          TOLERANCIA\ RELATIVA\ PUNTO\ LIMITE\ HORMIGON\ \
*) \[IndentingNewLine]LTOL = 0.02; \[IndentingNewLine] (*\ 
          
          TOLERANCIA\ ABSOLUTA\ EPSILON\ *) \[IndentingNewLine]\[Epsilon]ATOL \
= 0.002/50; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ DIMENSIONES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ SUPERELEMENTOS\ *) \[IndentingNewLine]BCMAXEL = 
          1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SETS\ DE\ MATERIALES\ DIFERENTES\ \
*) \[IndentingNewLine]MAXMAT = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ DIFERENTES\ EN\ LA\ ESTRUCTURA\ \
*) \[IndentingNewLine]MAXSEC = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ LA\ CURVA\ DE\ TIEMPO\ \
*) \[IndentingNewLine]MAXLOAD = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ PUNTOS\ DE\ ITERACIONES\ *) \[IndentingNewLine]MAXIT = 
          35; \[IndentingNewLine] (*\ 
          NUMERO\ MAXIMO\ DE\ JOINTS\ *) \[IndentingNewLine]BCMAXND = 
          1; \[IndentingNewLine] (*\ 
          INICIALIZACION\ DE\ ARRAYS\ DE\ \
SUPERELEMENTOS*) \[IndentingNewLine]{JointX, BeamColumnCN, JointID, 
            BeamTable, JointLOAD, 
            BeamColumnLOAD, \[IndentingNewLine]SectionTable, MaterialTable} = 
          INITBC[{BCMAXEL, BCMAXND, MAXMAT, MAXSEC, 
              MAXLOAD}]; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          OPCIONES\ DE\ SOLUCION\ DEL\ PROBLEMA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LAS\ DEFORMACIONES\ POR\ CORTE\ \
*) \[IndentingNewLine]SHEAR = True; \[IndentingNewLine] (*\ 
          CONSIDERACION\ DE\ LA\ NO - 
            LINEALIDAD\ GEOMETRICA\ *) \[IndentingNewLine]HIGH = 
          True; \[IndentingNewLine] (*\ 
          CALCULAR\ CARGAS\ GRAVITATORIAS\ A\ PARTIR\ DE\ GEOMETRIA\ \
*) \[IndentingNewLine]GRAV = False; \[IndentingNewLine] (*\ 
          CALCULAR\ REACCIONES\ DE\ VINCULO\ *) \[IndentingNewLine]REAC = 
          True; \[IndentingNewLine] (*\ 
          ALGORITMO\ DE\ EVENTOS\ *) \[IndentingNewLine]SMART = 
          False; \[IndentingNewLine] (*\ 
          ALGORITMO\ FULL\ NEWTON/
              MODIFIED\ NEWTON\ RAPHSON\ *) \[IndentingNewLine]MNR = 
          False; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          COORDENADAS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ \ \ \ \ \ \ *) \[IndentingNewLine]JointX[\([1]\)] = {Xi = 0.00, 
            Yi = 0.000}; \[IndentingNewLine]JointX[\([2]\)] = {Xi = 1.00, 
            Yi = 0.000}; \[IndentingNewLine] (*\ 
          CONECTIVIDAD\  - \ 
            SUPERELEMENTOS\ *) \[IndentingNewLine]BeamColumnCN[\([1]\)] = {I \
= 1, J = 2}; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          TABLA\ DE\ MATERIALES\ DE\ LA\ ESTRUCTURA\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine]MCODE \
= 1; \[CurlyPhi] = \(-1\); \[IndentingNewLine]MaterialTable[\([MCODE]\)] = \
\[IndentingNewLine]{{Es = 210000. , 
              fy = 240.0, \[Epsilon]y = fy/Es, \[Gamma]a = 0.0775, 
              K = 0.025*Es, 
              H = 0*Es}, \[IndentingNewLine]{fc = 0, \[Epsilon]o = 
                0, \[Gamma]h = 0}}; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ ACERO\ *) \[IndentingNewLine]NOSTEEL = 
          False; \[IndentingNewLine] (*\ 
          DESACTIVAR\ FIBRAS\ DE\ HORMIGON\ *) \[IndentingNewLine]NOCONCRETE \
= True; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          PROPIEDADES\ GEOMETRICAS\ Y\ MECANICAS\ \ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GEOMETRIA\ DE\ LA\ SECCION\ IPB\ 260\ *) \[IndentingNewLine]SCODE = 
          1; \ MCODE = 
          1; \[IndentingNewLine]Geometry = {{bo = 260*10^\(-3\), bmax = 0.00, 
              d = 113*10^\(-3\), do = 0.00}, {rs = 0, ri = 0, rh = 0, 
              hk = d - rs - ri, bk = bo - 2*rh}}; \[IndentingNewLine] (*\ 
          ARMADURA\ DE\ LAS\ SECCION\ z < 0 = \(INF\ \ z > 0 = 
              SUP\)*) \[IndentingNewLine]Reinforcement = \
\[IndentingNewLine]{NFS = 14, {zs1 = \(-128\)*10^\(-3\), 
              zs2 = \(-124\)*10^\(-3\), zs3 = \(-120\)*10^\(-3\), 
              zs4 = \(-116\)*10^\(-3\), zs5 = \(-109\)*10^\(-3\), 
              zs6 = \(-78\)*10^\(-3\), 
              zs7 = \(-26\)*10^\(-3\), \[IndentingNewLine]zs8 = \(-zs7\), 
              zs9 = \(-zs6\), zs10 = \(-zs5\), zs11 = \(-zs4\), 
              zs12 = \(-zs3\), zs13 = \(-zs2\), 
              zs14 = \(-zs1\)}, \[IndentingNewLine]{As1 = 452*10^\(-6\), 
              As2 = 449*10^\(-6\), As3 = 396*10^\(-6\), As4 = 232*10^\(-6\), 
              As5 = 186*10^\(-6\), As6 = 488*10^\(-6\), 
              As7 = 488*10^\(-6\), \[IndentingNewLine]As8 = As7, As9 = As6, 
              As10 = As5, As11 = As4, As12 = As3, As13 = As2, 
              As14 = As1}, \[Phi]h = 0*10^\(-3\), 
            sh = 0.15}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          PROPIEDADES\ DEL\ HORMIG\[CapitalOAcute]N\ CONFINADO\ \
*) \[IndentingNewLine]{Steel, Concrete} = 
          MaterialTable[\([MCODE]\)]; \[IndentingNewLine]ConfinateConcrete = 
          SETCCPROP[Geometry, Reinforcement, Steel, 
            Concrete]; \[IndentingNewLine]SectionTable[\([SCODE]\)] = \
{Geometry, Reinforcement, Steel, 
            ConfinateConcrete}; \[IndentingNewLine]\[IndentingNewLine] (*\(\
**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(**\)\(\
**\)\(**\)\(**\)****************) \[IndentingNewLine] (*\ 
          CONDICIONES\ DE\ BORDE\ SUPERELEMENTOS\  - \ 
            JointID\ *) \[IndentingNewLine] \
(*************************************************) \[IndentingNewLine] (*\ 
          0\  = \(\(\(>\)\(\ \)\(LIBRE\ \ 1\)\)\  = \(\(>\)\(\ \
\)\(RESTRINGIDO\ \((CONSTRAINT)\)\)\)\)\ \ \
*) \[IndentingNewLine]JointID[\([1]\)] = {UID = 1, 
            WID = 1, \[Theta]ID = 
              1}; \[IndentingNewLine]JointID[\([2]\)] = {UID = 0, 
            WID = 0, \[Theta]ID = 
              0}; \[IndentingNewLine]\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ EN\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \
\ \ *) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          CARGAS\ CONCENTRADAS\  - \ JointLOAD\ *) \[IndentingNewLine]JO = 2; 
        Py = 1.2474; 
        My = 0.1040; \[IndentingNewLine]JointLOAD[\([t = 1, 
              JO]\)] = {FX = \(-0.2\)*Py, FY = \(-1.3\)*My, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 2, 
              JO]\)] = {FX = \(-0.2\)*Py, FY = \(+1.4\)*My, 
            MXY = 0}; \[IndentingNewLine]JointLOAD[\([t = 3, 
              JO]\)] = {FX = \(-0.2\)*Py, FY = \(-1.5\)*My, 
            MXY = 0}; \[IndentingNewLine]\[IndentingNewLine] (*\ 
          CARGAS\ DISTRIBUIDAS\  - \ 
            BeamColumnLOAD\ *) \[IndentingNewLine] (*\ X, 
          Y, \[CapitalTheta] : \ 
            COORDENADAS\ GLOBALES\ *) \[IndentingNewLine] (*\ 
          DIR\ 1 : \(pX[MN/m]\ \ DIR\ 2 : \(pY[MN/m]\ \ DIR\ 3 : 
                mZ[MNm/m]\)\)*) \[IndentingNewLine]BC = 
          1; \[IndentingNewLine]BeamColumnLOAD[\([t = 1, BC]\)] = {pX = 0.00, 
            pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 2, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]BeamColumnLOAD[\([t = 3, 
              BC]\)] = {pX = 0.00, pY = 0.00, 
            mXY = 0.00}; \[IndentingNewLine]\[IndentingNewLine]\
\[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DISCRETIZACION\ DE\ LOS\ SUPERELEMENTOS\ \ \ \ \ \ \ \ \ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          DATOS\ DE\ DISCRETIZACION\ DEL\ SUPERELEMENTO\ N\[Degree]\ BC\
*) \[IndentingNewLine]BC = 1; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ MATERIALES\ PARA\ EL\ SUPERELEMENTO\ \
*) \[IndentingNewLine]MCODE = 1; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ ELEMENTOS\ EN\ SUPERELEMENTO\ \
BC*) \[IndentingNewLine]NEL = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ SECCIONES\ EN\ CADA\ ELEMENTO\ \((GAUSS\ POINTS)\)\ \
*) \[IndentingNewLine]NGP = 3; \[IndentingNewLine] (*\ 
          NUMERO\ DE\ FIBRAS\ DE\ HORMIGON\ EN\ SECCION\ \((GAUSS)\)\ \
*) \[IndentingNewLine]NFC = 3; \[IndentingNewLine] (*\ 
          CODIGO\ DE\ SECCION\ PARA\ CADA\ ELEMENTO\ \
*) \[IndentingNewLine]SCODE = 1; \[IndentingNewLine] (*\ 
          TABLA\ DE\ DISCRETIZACION\ SUPERELEMENTAL\ \
*) \[IndentingNewLine]BeamTable[\([BC]\)] = {NT = 1, 
            MCODE, {emax = 0, 
              emin = 0}, \[IndentingNewLine]{{NEL, \[Alpha]L = 1.00, SCODE, 
                NGP, NFC, {emax = 0, emin = 0}}}}; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ ELEMENTO\ \ \ \ \ \
*) \[IndentingNewLine]EQUAD = Gauss; 
        ETYPE = Closed; \[IndentingNewLine] (*\ 
          ALGORITMOS\ DE\ INTEGRACION\ SECCION\ \ \ \ \ \ \
*) \[IndentingNewLine]SQUAD = Gauss; 
        STYPE = Closed; \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          GUARDAR\ Y\ CERRAR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \ \ \
*) \[IndentingNewLine] \
(**************************************************) \[IndentingNewLine] (*\ 
          ABRIR\ ARCHIVO\ DE\ ENTRADA\ DE\ DATOS\ \
*) \[IndentingNewLine]SETOUTPUT[InputFilename, 
          FormatType \[Rule] 
            StandardForm]; \
\[IndentingNewLine]\[IndentingNewLine]PRINT["\<{BCMAXEL,MAXMAT,MAXSEC,MAXLOAD}\
=\>", {BCMAXEL, MAXMAT, MAXSEC, 
            MAXLOAD}]; \
\[IndentingNewLine]PRINT["\<{SHEAR,HIGH,GRAV,REAC}=\>", {SHEAR, HIGH, GRAV, 
            REAC}]; \[IndentingNewLine]PRINT["\<JointX=\>", 
          JointX]; \[IndentingNewLine]PRINT["\<BeamColumnCN=\>", 
          BeamColumnCN]; 
        PRINT["\<MaterialTable=\>", 
          MaterialTable]; \[IndentingNewLine]PRINT["\<{CTOL,\[Epsilon]ATOL,\
\[CapitalPsi]TOL,UTOL,OVSH}=\>", {CTOL, \[Epsilon]ATOL, \[CapitalPsi]TOL, 
            UTOL, OVSH}]; \
\[IndentingNewLine]PRINT["\<{NOSTEEL,NOCONCRETE}=\>", {NOSTEEL, 
            NOCONCRETE}]; \
\[IndentingNewLine]PRINT["\<{EQUAD,ETYPE,SQUAD,STYPE}=\>", {EQUAD, ETYPE, 
            SQUAD, STYPE}]; \[IndentingNewLine]PRINT["\<Geometry=\>", 
          Geometry]; 
        PRINT["\<Reinforcement=\>", 
          Reinforcement]; \[IndentingNewLine]PRINT["\<ConfinateConcrete=\>", 
          ConfinateConcrete]; 
        PRINT["\<SectionTable=\>", 
          SectionTable]; \[IndentingNewLine]PRINT["\<JointID=\>", JointID]; 
        PRINT["\<JointLOAD=\>", 
          JointLOAD]; \[IndentingNewLine]PRINT["\<BeamColumnLOAD=\>", 
          BeamColumnLOAD]; 
        PRINT["\<BeamTable=\>", 
          BeamTable]; \[IndentingNewLine]\[IndentingNewLine]Close[
          InputFilename]; \
\[IndentingNewLine]Return[];\[IndentingNewLine]]\)}], "Input",
  PageWidth->Infinity]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["SOLVE", "Subsection",
  PageWidth->Infinity],

Cell[BoxData[
    \(\(R5A[];\)\)], "Input"],

Cell[BoxData[
    \(\(MAIN[];\)\)], "Input"],

Cell[BoxData[{
    \(nr = n; 
    DATA = Table[{\(U[i]\)[\([UDOF = 2, 1]\)], \(F[i]\)[\([RDOF = 2, 
              1]\)]}, {i, 0, nr}];\), "\[IndentingNewLine]", 
    \(\(ListPlot[\(-DATA\), PlotJoined \[Rule] True, PlotRange \[Rule] All, 
        GridLines \[Rule] 
          Automatic, \[IndentingNewLine]AxesStyle \[Rule] {RGBColor[1, 0, 0], 
            Thickness[
              0.0075]}, \[IndentingNewLine]PlotStyle \[Rule] {RGBColor[0, 0, 
              1], Thickness[0.0075]}];\)\)}], "Input"],

Cell[BoxData[
    \(EXPORTCSV["\<\ESTUDIO\TESIS\CSV\R4A-Pw.CSV\>", DATA]\)], "Input"],

Cell[BoxData[{
    \(nr = n; 
    DATA = Table[{\(U[i]\)[\([UDOF = 1, 1]\)], \(F[i]\)[\([RDOF = 1, 
              1]\)]}, {i, 0, nr}];\), "\[IndentingNewLine]", 
    \(\(ListPlot[\(-DATA\), PlotJoined \[Rule] True, PlotRange \[Rule] All, 
        GridLines \[Rule] 
          Automatic, \[IndentingNewLine]AxesStyle \[Rule] {RGBColor[1, 0, 0], 
            Thickness[
              0.0075]}, \[IndentingNewLine]PlotStyle \[Rule] {RGBColor[0, 0, 
              1], Thickness[0.0075]}];\)\)}], "Input"],

Cell[BoxData[
    \(EXPORTCSV["\<\ESTUDIO\TESIS\CSV\R4-Nu.CSV\>", DATA]\)], "Input"],

Cell[BoxData[{
    \( (*MOMENTO\ CURVATURA*) \[IndentingNewLine]EIDX = 1; 
    SIDX = 1;\), "\[IndentingNewLine]", 
    \(\(DATA = 
        Table[{\(S[i]\)[\([EIDX, SIDX, 2]\)], \(Q[i]\)[\([EIDX, SIDX, 
                2]\)]}, {i, 0, nr}];\)\), "\[IndentingNewLine]", 
    \(\(ListPlot[DATA, 
        PlotJoined \[Rule] True, \[IndentingNewLine]PlotRange \[Rule] All, 
        GridLines \[Rule] 
          Automatic, \[IndentingNewLine]AxesStyle \[Rule] {RGBColor[1, 0, 0], 
            Thickness[
              0.0075]}, \[IndentingNewLine]PlotStyle \[Rule] {RGBColor[0, 0, 
              1], Thickness[0.005]}];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[
    \(EXPORTCSV["\<\ESTUDIO\TESIS\CSV\R4A-Mk.CSV\>", DATA]\)], "Input"],

Cell[BoxData[{
    \( (*NORMAL\ ALARGAMIENTO*) \[IndentingNewLine]nr = n; EIDX = 1; 
    SIDX = 1;\), "\[IndentingNewLine]", 
    \(\(DATA = 
        Table[{\(S[i]\)[\([EIDX, SIDX, 1]\)], \(Q[i]\)[\([EIDX, SIDX, 
                1]\)]}, {i, 0, nr}];\)\), "\[IndentingNewLine]", 
    \(\(ListPlot[\(-DATA\), 
        PlotJoined \[Rule] True, \[IndentingNewLine]PlotRange \[Rule] All, 
        GridLines \[Rule] 
          Automatic, \[IndentingNewLine]AxesStyle \[Rule] {RGBColor[1, 0, 0], 
            Thickness[
              0.0075]}, \[IndentingNewLine]PlotStyle \[Rule] {RGBColor[0, 0, 
              1], Thickness[0.005]}];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[
    \(EXPORTCSV["\<\ESTUDIO\TESIS\CSV\R4-X[1].CSV\>", X[1]]\)], "Input"],

Cell[BoxData[{
    \(\(DATA = DIAGRAM[Q[31], 2];\)\), "\[IndentingNewLine]", 
    \(\(EXPORTCSV["\<\ESTUDIO\TESIS\CSV\R4-M[31].CSV\>", DATA];\)\)}], "Input"],

Cell[BoxData[{
    \(\(DATA = DIAGRAM[S[31], 2];\)\), "\[IndentingNewLine]", 
    \(\(EXPORTCSV["\<\ESTUDIO\TESIS\CSV\R4-k[31].CSV\>", DATA];\)\)}], "Input"],

Cell[BoxData[{
    \( (*DIAGRAMA\ DE\ MOMENTOS*) \[IndentingNewLine]SIDX = 1; 
    i = n;\), "\[IndentingNewLine]", 
    \(\(DATA = 
        Table[{\(S[i]\)[\([EIDX, SIDX, 2]\)], \(Q[i]\)[\([EIDX, SIDX, 
                2]\)]}, {EIDX, 1, ELMAX}];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[
    \(DATA\)], "Input"],

Cell[BoxData[
    \(ElementCN\)], "Input"],

Cell[BoxData[{
    \( (*CORTE\ DISTORSION*) \[IndentingNewLine]SHEAR\), \
"\[IndentingNewLine]", 
    \(EIDX = 1; SIDX = 1;\), "\[IndentingNewLine]", 
    \(\(DATA = 
        Table[{\(S[i]\)[\([EIDX, SIDX, 3]\)], \(Q[i]\)[\([EIDX, SIDX, 
                3]\)]}, {i, 0, n}];\)\), "\[IndentingNewLine]", 
    \(\(ListPlot[\(-DATA\), 
        PlotJoined \[Rule] True, \[IndentingNewLine]PlotRange \[Rule] All, 
        GridLines \[Rule] 
          Automatic, \[IndentingNewLine]AxesStyle \[Rule] {RGBColor[1, 0, 0], 
            Thickness[
              0.0075]}, \[IndentingNewLine]PlotStyle \[Rule] {RGBColor[0, 0, 
              1], Thickness[0.0125]}];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[
    \(EXPORTCSV["\<E:\ESTUDIO\TESIS\CSV\R4B-Qg.CSV\>", DATA]\)], "Input"],

Cell[BoxData[{
    \( (*SIGMA\ EPSILON\ HORMIGON*) \[IndentingNewLine]EIDX = 1; SIDX = 1; 
    FIDX = 1;\), "\[IndentingNewLine]", 
    \(\(DATA = 
        Table[{\(\(FiberState[j]\)[\([EIDX, SIDX, 1, 
                  FIDX]\)]\)[\([2]\)], \[IndentingNewLine]\(\(FiberState[
                  j]\)[\([EIDX, SIDX, 1, FIDX]\)]\)[\([5]\)]}, {j, 0, 
            nr}];\)\), "\[IndentingNewLine]", 
    \(\(ListPlot[DATA, 
        PlotJoined \[Rule] True, \[IndentingNewLine]PlotRange \[Rule] All, 
        GridLines \[Rule] 
          Automatic, \[IndentingNewLine]AxesStyle \[Rule] {RGBColor[1, 0, 0], 
            Thickness[
              0.0075]}, \[IndentingNewLine]PlotStyle \[Rule] {RGBColor[0, 0, 
              1], Thickness[0.005]}];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[
    \(S[n]\)], "Input"],

Cell[BoxData[
    \(EXPORTCSV["\<\ESTUDIO\TESIS\CSV\R4B-seC.CSV\>", DATA]\)], "Input"],

Cell[BoxData[{
    \( (*SIGMA\ EPSILON\ ACERO*) \[IndentingNewLine]EIDX = 1; SIDX = 1; 
    FIDX = 1;\), "\[IndentingNewLine]", 
    \(\(DATA = 
        Table[{\(\(FiberState[j]\)[\([EIDX, SIDX, 2, 
                  FIDX]\)]\)[\([2]\)], \[IndentingNewLine]\(\(FiberState[
                  j]\)[\([EIDX, SIDX, 2, FIDX]\)]\)[\([6]\)]}, {j, 0, 
            nr}];\)\), "\[IndentingNewLine]", 
    \(\(ListPlot[DATA, 
        PlotJoined \[Rule] True, \[IndentingNewLine]PlotRange \[Rule] All, 
        GridLines \[Rule] 
          Automatic, \[IndentingNewLine]AxesStyle \[Rule] {RGBColor[1, 0, 0], 
            Thickness[
              0.0075]}, \[IndentingNewLine]PlotStyle \[Rule] {RGBColor[0, 0, 
              1], Thickness[0.01]}];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[
    \(EXPORTCSV["\<\ESTUDIO\TESIS\CSV\R4A-se-1.CSV\>", DATA]\)], "Input"],

Cell[BoxData[{
    \( (*STIFNESS\ *) \[IndentingNewLine]\(DATA = 
        Table[{i, \[Lambda][i]}, {i, 0, 25}];\)\), "\[IndentingNewLine]", 
    \(\(ListPlot[DATA, PlotJoined \[Rule] True, 
        AxesOrigin \[Rule] Automatic, \[IndentingNewLine]PlotRange \[Rule] 
          All, GridLines \[Rule] 
          Automatic, \[IndentingNewLine]AxesStyle \[Rule] {RGBColor[1, 0, 0], 
            Thickness[
              0.0075]}, \[IndentingNewLine]PlotStyle \[Rule] {RGBColor[0, 0, 
              1], Thickness[0.01]}];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(DATAX = 
        Join[{{0, 0}}, 
          Table[{t, JointLOAD[\([t, JO, 1]\)]}, {t, 1, 
              MAXLOAD}]];\)\), "\[IndentingNewLine]", 
    \(\(ListPlot[DATAX, PlotJoined \[Rule] True, AxesOrigin \[Rule] {1, 0}, 
        PlotRange \[Rule] 
          All, \[IndentingNewLine]AxesStyle \[Rule] {RGBColor[1, 0, 0], 
            Thickness[0.005]}, \[IndentingNewLine]PlotStyle \[Rule] {RGBColor[
              0, 0, 1], Thickness[0.0075]}, 
        Ticks \[Rule] {{1, 2, 3}, Automatic}];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(DATAY = 
        Join[{{0, 0}}, 
          Table[{t, JointLOAD[\([t, JO, 2]\)]}, {t, 1, 
              MAXLOAD}]];\)\), "\[IndentingNewLine]", 
    \(\(ListPlot[DATAY, PlotJoined \[Rule] True, AxesOrigin \[Rule] {1, 0}, 
        PlotRange \[Rule] 
          All, \[IndentingNewLine]AxesStyle \[Rule] {RGBColor[1, 0, 0], 
            Thickness[0.005]}, \[IndentingNewLine]PlotStyle \[Rule] {RGBColor[
              0, 0, 1], Thickness[0.0075]}];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[
    \(EXPORTCSV["\<\ESTUDIO\TESIS\CSV\R12-LOAD.CSV\>", DATAY]\)], "Input"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["TESTS FIBER", "Section",
  PageWidth->Infinity],

Cell[CellGroupData[{

Cell["TESTS FIBER CONCRETE-R", "Subsection",
  PageWidth->Infinity],

Cell[BoxData[
    \(\(INPUTR4A[];\)\)], "Input"],

Cell[BoxData[{
    \(\(Reinforcement = {NFS = 2, {zs1 = \(-\((d/2 - rs)\)\), 
            zs2 = \(+\((d/2 - ri)\)\)}, \[IndentingNewLine]{As1 = 
              5.94*10^\(-4\), As2 = 11.40*10^\(-4\)}, \[Phi]h = 
            6.35*10^\(-3\), sh = 0.075};\)\), "\[IndentingNewLine]", 
    \(\(\[Mu] = 0.8;\)\), "\[IndentingNewLine]", 
    \(\(ConfinateConcrete = 
        SETCCPROP[Geometry, Reinforcement, Steel, Concrete, 
          Damage \[Rule] {0.5, 0}];\)\), "\[IndentingNewLine]", 
    \(\(Clear[CICLO];\)\), "\n", 
    \(\(CICLO[1] = {\(-0.0005\), 
          0, \(-0.0010\), \(-0.0005\), \(-0.0015\), \(-0.0010\), \(-0.0020\), \
\(-0.0015\), \(-0.0025\), \(-0.0020\), \(-0.0030\), \(-0.0025\), \(-0.0035\), \
\(-0.0030\), \(-0.0040\), \(-0.002\)};\)\), "\n", 
    \(\(CICLO[2] = {\(-0.0015\), 0, \(-0.0025\), 0, \(-0.0035\), 
          0, \(-0.0045\), 0, \(-0.0060\)};\)\), "\[IndentingNewLine]", 
    \(\(CICLO[3] = {\(-0.0010\), 
          0, \(-0.0021\), \(-0.0010\)};\)\), "\[IndentingNewLine]", 
    \(\(CICLO[4] = {\(-0.0025\), 
          0.005, \(-0.0035\)};\)\), "\[IndentingNewLine]", 
    \(\(DATA = RCCCYCLIC[CICLO[2]];\)\), "\[IndentingNewLine]", 
    \(\(ListPlot[\(-DATA\), 
        PlotJoined \[Rule] 
          True, \[IndentingNewLine]AxesStyle \[Rule] {RGBColor[1, 0, 0]}, 
        PlotStyle \[Rule] {RGBColor[0, 0, 1], 
            Thickness[0.0075]}];\)\)}], "Input"],

Cell[BoxData[
    \(EXPORTCSV["\<\ESTUDIO\TESIS\CSV\CC-B-100.CSV\>", DATA]\)], "Input"],

Cell[BoxData[{
    \(\(DATA = CCCYCLIC[CICLO[2]];\)\), "\[IndentingNewLine]", 
    \(\(ListPlot[\(-DATA\), 
        PlotJoined \[Rule] 
          True, \[IndentingNewLine]AxesStyle \[Rule] {RGBColor[1, 0, 0]}, 
        PlotStyle \[Rule] {RGBColor[0, 0, 1], 
            Thickness[0.0075]}];\)\)}], "Input",
  PageWidth->Infinity]
}, Closed]],

Cell[CellGroupData[{

Cell["TESTS FIBERSTEEL-R", "Subsection",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(R4A[];\)\), "\n", 
    \(\(Steel = {Es = 210000. , 
          fy = 420. , \[Epsilon]y = fy/Es, \[Gamma]a = 0.0775, K = 0.0*Es, 
          H = 0.1*Es};\)\), "\n", 
    \(\(Clear[CICLO];\)\), "\n", 
    \(\(CICLO[
          1] = {\(+0.0030\), \(-0.0035\), \(+0.0040\), \(-0.0045\), \(+0.0050\
\), \(-0.0055\)};\)\), "\n", 
    \(\(CICLO[
          2] = {\(-0.0025\), \(+0.0030\), \(-0.0035\), \(+0.0040\), \(-0.0045\
\), \(+0.0050\), \(-0.0050\)};\)\), "\n", 
    \(\(CICLO[
          3] = {\(-0.0015\), \(-0.0001\), \(-0.0022\), \(-0.0015\), \(-0.0030\
\)};\)\), "\[IndentingNewLine]", 
    \(\(DATA = RSTCYCLIC[CICLO[1]];\)\), "\n", 
    \(\(ListPlot[DATA, PlotJoined \[Rule] True, PlotRange \[Rule] All, 
        GridLines \[Rule] Automatic, 
        AxesStyle \[Rule] {RGBColor[1, 0, 0], Thickness[0.005]}, 
        PlotStyle \[Rule] {RGBColor[0, 0, 1], 
            Thickness[0.01]}];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[
    \(EXPORTCSV["\<\ESTUDIO\TESIS\CSV\ST-B-H01.CSV\>", DATA]\)], "Input"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["TESTS SHAPE", "Section",
  PageWidth->Infinity],

Cell[CellGroupData[{

Cell["GENERAR FUNCIONES DE FORMA", "Subsubsection"],

Cell[BoxData[
    \(Clear[r, EA, EX, EJ, GA, L, bu, bu\[CapitalDelta]u3, bw, 
      bw\[CapitalDelta]u3, b\[Theta], b\[Theta]\[CapitalDelta]u3, hu, 
      hu\[CapitalDelta]u3, hw, hw\[CapitalDelta]u3, h\[Theta], 
      h\[Theta]\[CapitalDelta]u3, 
      h\[Gamma], \[IndentingNewLine]h\[Gamma]\[CapitalDelta]u3, h\[Chi], 
      h\[Chi]\[CapitalDelta]u3, buS, bu\[CapitalDelta]u3S, bwS, 
      bw\[CapitalDelta]u3S, b\[Theta]S, b\[Theta]\[CapitalDelta]u3S, huS, 
      hu\[CapitalDelta]u3S, hwS, \[IndentingNewLine]hw\[CapitalDelta]u3S, 
      h\[Theta]S, h\[Theta]\[CapitalDelta]u3S, h\[Gamma]S, 
      h\[Gamma]\[CapitalDelta]u3S, h\[Chi]S, 
      h\[Chi]\[CapitalDelta]u3S]\)], "Input",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\({bu[r_], bu\[CapitalDelta]u3[r_], bw[r_], bw\[CapitalDelta]u3[r_], 
          b\[Theta][r_], 
          b\[Theta]\[CapitalDelta]u3[
            r_]} = \(GETSHAPE[{r, L}, {EA, EX, EJ, GA}, 
            ShearInterpolation \[Rule] 
              False]\)[\([1]\)];\)\), "\[IndentingNewLine]", 
    \(\({hu[r_], hu\[CapitalDelta]u3[r_], hw[r_], hw\[CapitalDelta]u3[r_], 
          h\[Theta][r_], h\[Theta]\[CapitalDelta]u3[r_], h\[Gamma][r_], 
          h\[Gamma]\[CapitalDelta]u3[r_], h\[Chi][r_], 
          h\[Chi]\[CapitalDelta]u3[
            r_]} = \(GETSHAPE[{r, L}, {EA, EX, EJ, GA}, 
            ShearInterpolation \[Rule] False]\)[\([2]\)];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\({buS[r_], bu\[CapitalDelta]u3S[r_], bwS[r_], 
          bw\[CapitalDelta]u3S[r_], b\[Theta]S[r_], 
          b\[Theta]\[CapitalDelta]u3S[
            r_]} = \(GETSHAPE[{r, L}, {EA, EX, EJ, GA}, 
            ShearInterpolation \[Rule] 
              True]\)[\([1]\)];\)\), "\[IndentingNewLine]", 
    \(\({huS[r_], hu\[CapitalDelta]u3S[r_], hwS[r_], 
          hw\[CapitalDelta]u3S[r_], h\[Theta]S[r_], 
          h\[Theta]\[CapitalDelta]u3S[r_], h\[Gamma]S[r_], 
          h\[Gamma]\[CapitalDelta]u3S[r_], h\[Chi]S[r_], 
          h\[Chi]\[CapitalDelta]u3S[
            r_]} = \(GETSHAPE[{r, L}, {EA, EX, EJ, GA}, 
            ShearInterpolation \[Rule] True]\)[\([2]\)];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[{
    \(\(Clear[U, Ui, Uj, W, Wi, 
        Wj, \[Theta], \[Theta]i, \[Theta]j, \[CapitalDelta]u3];\)\), "\n", 
    \(\(U = {{Ui}, {Uj}};\)\), "\n", 
    \(\(W = {{Wi}, {Wj}, {\[Theta]i}, {\[Theta]j}};\)\), "\n", 
    \(\(\[CapitalDelta]u3;\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[
    \(\(Clear[uS, wS, \[Theta]S, \[Phi]S, \[Gamma]S, \[Chi]S];\)\)], "Input"],

Cell[BoxData[{
    \(\(uS[r_, Ui_, 
          Uj_, \[CapitalDelta]u3_] = \((TR[huS[r]] . U)\)[\([1, 
              1]\)] + \((hu\[CapitalDelta]u3S[r]*\[CapitalDelta]u3)\)[\([1, 
              1]\)];\)\), "\n", 
    \(\(wS[r_, Wi_, 
          Wj_, \[Theta]i_, \[Theta]j_, \[CapitalDelta]u3_] = \((TR[hwS[r]] . 
                W)\)[\([1, 
              1]\)] + \((hw\[CapitalDelta]u3S[r]*\[CapitalDelta]u3)\)[\([1, 
              1]\)];\)\), "\n", 
    \(\(\[Theta]S[r_, Wi_, 
          Wj_, \[Theta]i_, \[Theta]j_, \[CapitalDelta]u3_] = \((TR[
                  h\[Theta]S[r]] . W)\)[\([1, 
              1]\)] + \((h\[Theta]\[CapitalDelta]u3S[
                  r]*\[CapitalDelta]u3)\)[\([1, 1]\)];\)\), "\n", 
    \(\(\[Phi]S[r_, Wi_, 
          Wj_, \[Theta]i_, \[Theta]j_, \[CapitalDelta]u3_] = \((TR[bwS[r]] . 
                W)\)[\([1, 
              1]\)] + \((bw\[CapitalDelta]u3S[r]*\[CapitalDelta]u3)\)[\([1, 
              1]\)];\)\), "\n", 
    \(\(\[Gamma]S[r_, Wi_, 
          Wj_, \[Theta]i_, \[Theta]j_, \[CapitalDelta]u3_] = \((TR[
                  h\[Gamma]S[r]] . W)\)[\([1, 
              1]\)] + \((h\[Gamma]\[CapitalDelta]u3S[
                  r]*\[CapitalDelta]u3)\)[\([1, 1]\)];\)\), "\n", 
    \(\(\[Chi]S[r_, Wi_, 
          Wj_, \[Theta]i_, \[Theta]j_, \[CapitalDelta]u3_] = \((TR[
                  h\[Chi]S[r]] . W)\)[\([1, 
              1]\)] + \((h\[Chi]\[CapitalDelta]u3S[
                  r]*\[CapitalDelta]u3)\)[\([1, 1]\)];\)\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[
    \(Clear[u, w, \[Theta], \[Phi], \[Gamma], \[Chi]]\)], "Input"],

Cell[BoxData[{
    \(\(u[r_, Ui_, 
          Uj_, \[CapitalDelta]u3_] = \((TR[hu[r]] . U)\)[\([1, 
              1]\)] + \((hu\[CapitalDelta]u3[r]*\[CapitalDelta]u3)\)[\([1, 
              1]\)];\)\), "\n", 
    \(\(w[r_, Wi_, 
          Wj_, \[Theta]i_, \[Theta]j_, \[CapitalDelta]u3_] = \((TR[hw[r]] . 
                W)\)[\([1, 
              1]\)] + \((hw\[CapitalDelta]u3[r]*\[CapitalDelta]u3)\)[\([1, 
              1]\)];\)\), "\n", 
    \(\(\[Theta][r_, Wi_, 
          Wj_, \[Theta]i_, \[Theta]j_, \[CapitalDelta]u3_] = \((TR[
                  h\[Theta][r]] . W)\)[\([1, 
              1]\)] + \((h\[Theta]\[CapitalDelta]u3[
                  r]*\[CapitalDelta]u3)\)[\([1, 1]\)];\)\), "\n", 
    \(\(\[Phi][r_, Wi_, 
          Wj_, \[Theta]i_, \[Theta]j_, \[CapitalDelta]u3_] = \((TR[bw[r]] . 
                W)\)[\([1, 
              1]\)] + \((bw\[CapitalDelta]u3[r]*\[CapitalDelta]u3)\)[\([1, 
              1]\)];\)\), "\n", 
    \(\(\[Gamma][r_, Wi_, 
          Wj_, \[Theta]i_, \[Theta]j_, \[CapitalDelta]u3_] = \((TR[
                  h\[Gamma][r]] . W)\)[\([1, 
              1]\)] + \((h\[Gamma]\[CapitalDelta]u3[
                  r]*\[CapitalDelta]u3)\)[\([1, 1]\)];\)\), "\n", 
    \(\(\[Chi][r_, Wi_, 
          Wj_, \[Theta]i_, \[Theta]j_, \[CapitalDelta]u3_] = \((TR[
                  h\[Chi][r]] . W)\)[\([1, 
              1]\)] + \((h\[Chi]\[CapitalDelta]u3[
                  r]*\[CapitalDelta]u3)\)[\([1, 1]\)];\)\)}], "Input",
  PageWidth->Infinity]
}, Open  ]],

Cell[CellGroupData[{

Cell["EXTRAER DATOS DEL ELEMENTO", "Subsubsection"],

Cell[BoxData[
    \(\(j = 4;\)\)], "Input"],

Cell[BoxData[
    \({EA, EX, EJ, GA} = \(SectionStiffness[j]\)[\([EIDX, SIDX]\)]\)], "Input"],

Cell[BoxData[
    \(L = GETL[EIDX, X[j]]\)], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["EXTRAER DESPLAZAMIENTOS ELEMENTALES", "Subsubsection"],

Cell[BoxData[{
    \(\({{Ui}, {Uj}, {Wi}, {Wj}, {\[Theta]i}, {\[Theta]j}} = \(ur[
            j]\)[\([EIDX]\)];\)\), "\[IndentingNewLine]", 
    \(u = {{Ui}, {Uj}}\), "\[IndentingNewLine]", 
    \(w = {{Wi}, {Wj}, {\[Theta]i}, {\[Theta]j}}\), "\[IndentingNewLine]", 
    \(\[CapitalDelta]u3 = \(u\[CapitalDelta][j]\)[\([EIDX]\)]\)}], "Input"],

Cell[BoxData[
    \({\[Xi], \[Omega]} = IntegrationTable[\([EIDX, 1]\)]\)], "Input"],

Cell[BoxData[
    \(\[Phi]o =. \)], "Input"],

Cell[BoxData[{
    \(\(Clear[r];\)\), "\[IndentingNewLine]", 
    \(\[Phi]o[
        r_] = \((TR[bw[r]] . w + 
            bw\[CapitalDelta]u3[r]*\[CapitalDelta]u3)\)[\([1, 
          1]\)]\), "\[IndentingNewLine]", 
    \(\[Phi]oS[
        r_] = \((TR[bwS[r]] . w + 
            bw\[CapitalDelta]u3S[r]*\[CapitalDelta]u3)\)[\([1, 
          1]\)]\), "\[IndentingNewLine]", 
    \(\[Epsilon]m[
        r_] = \((TR[bu[r]] . u + 
              bu\[CapitalDelta]u3[r] . \[CapitalDelta]u3)\)[\([1, 1]\)] + 
        If[HIGH, \((1/2)\)*\[Phi]o[r]^2, 0]\), "\[IndentingNewLine]", 
    \(\[Epsilon]mS[
        r_] = \((TR[buS[r]] . u + 
              bu\[CapitalDelta]u3S[r] . \[CapitalDelta]u3)\)[\([1, 1]\)] + 
        If[HIGH, \((1/2)\)*\[Phi]oS[r]^2, 0]\), "\[IndentingNewLine]", 
    \(\[CurlyKappa]m[
        r_] = \((TR[h\[Chi][r]] . w + 
            h\[Chi]\[CapitalDelta]u3[r] . \[CapitalDelta]u3)\)[\([1, 
          1]\)]\), "\[IndentingNewLine]", 
    \(\[CurlyKappa]mS[
        r_] = \((TR[h\[Chi]S[r]] . w + 
            h\[Chi]\[CapitalDelta]u3S[r] . \[CapitalDelta]u3)\)[\([1, 
          1]\)]\), "\[IndentingNewLine]", 
    \(\[Gamma]m[
        r_] = \((TR[h\[Gamma][r]] . w + 
            h\[Gamma]\[CapitalDelta]u3[r] . \[CapitalDelta]u3)\)[\([1, 
          1]\)]\), "\[IndentingNewLine]", 
    \(\[Gamma]mS[
        r_] = \((TR[h\[Gamma]S[r]] . w + 
            h\[Gamma]\[CapitalDelta]u3S[r] . \[CapitalDelta]u3)\)[\([1, 
          1]\)]\)}], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["CALCULAR DEFORMACIONES DE LA SECCION", "Subsubsection"],

Cell[BoxData[
    \(r = \[Xi][\([SIDX]\)]\)], "Input"],

Cell[BoxData[{
    \(\[Phi]o[r]\), "\[IndentingNewLine]", 
    \(\[Phi]oS[r]\)}], "Input"],

Cell[BoxData[{
    \(\[Epsilon]m[r]\), "\[IndentingNewLine]", 
    \(\[Epsilon]mS[r]\)}], "Input"],

Cell[BoxData[{
    \(\[CurlyKappa]m[r]\), "\[IndentingNewLine]", 
    \(\[CurlyKappa]mS[r]\)}], "Input"],

Cell[BoxData[{
    \(\[Gamma]m[r]\), "\[IndentingNewLine]", 
    \(\[Gamma]mS[r]\)}], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["CALCULAR FUNCIONES DE FORMA EVALUADAS", "Subsubsection"],

Cell[BoxData[{
    \(bw[r]\), "\[IndentingNewLine]", 
    \(bwS[r]\)}], "Input"],

Cell[BoxData[{
    \(bw\[CapitalDelta]u3[r]\), "\[IndentingNewLine]", 
    \(bw\[CapitalDelta]u3S[r]\)}], "Input"],

Cell[BoxData[{
    \(b\[Theta][r]\), "\[IndentingNewLine]", 
    \(b\[Theta]S[r]\)}], "Input"],

Cell[BoxData[{
    \(b\[Theta]\[CapitalDelta]u3[r]\), "\[IndentingNewLine]", 
    \(b\[Theta]\[CapitalDelta]u3S[r]\)}], "Input"],

Cell[BoxData[{
    \(hw[r]\), "\[IndentingNewLine]", 
    \(hwS[r]\)}], "Input"],

Cell[BoxData[{
    \(hw\[CapitalDelta]u3[r]\), "\[IndentingNewLine]", 
    \(hw\[CapitalDelta]u3S[r]\)}], "Input"],

Cell[BoxData[{
    \(h\[Theta]\[CapitalDelta]u3[r]\), "\[IndentingNewLine]", 
    \(h\[Theta]\[CapitalDelta]u3S[r]\)}], "Input"],

Cell[BoxData[{
    \(h\[Gamma][r]\), "\[IndentingNewLine]", 
    \(h\[Gamma]S[r]\)}], "Input"],

Cell[BoxData[{
    \(h\[Chi][r]\), "\[IndentingNewLine]", 
    \(h\[Chi]S[r]\)}], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["CALCULAR ESFUERZOS INTERNOS DE LA SECCION", "Subsubsection"],

Cell[BoxData[{
    \(\({\(,\)\({\(,\)\(,\)\(,\)\(hk\)\(,\)\(bk\)}\)} = Geometry;\)\), "\n", 
    \(\({\(,\)\(zs\)\(,\)\(As\)\(,\)\(,\)} = 
        Reinforcement;\)\), "\[IndentingNewLine]", 
    \(hk\), "\[IndentingNewLine]", 
    \(bk\)}], "Input"],

Cell[BoxData[
    \(No1 = 0; Mo1 = 0; No2 = 0; Mo2 = 0;\)], "Input"],

Cell[BoxData[
    \({\[Zeta], \[Psi]} = IntegrationTable[\([EIDX, 2]\)]\)], "Input"],

Cell[BoxData[
    \(\(For[f = 1, 
        f \[LessEqual] 
          NFC, \(f++\), \[IndentingNewLine]\[Sigma] =. ; \[IndentingNewLine]{\
\(,\)\(,\)\(,\)\(,\)\(\[Sigma]\)\(,\)\(,\)} = \(FiberState[j]\)[\([EIDX, 
              SIDX, 1, f]\)]; \[IndentingNewLine]No1 += 
          bk*hk/2*\[Sigma]*\[Psi][\([f]\)]; \[IndentingNewLine]Mo1 += 
          bk*hk^2/4*\[Sigma]*\[Psi][\([f]\)]*\[Zeta][\([f]\)]; \
\[IndentingNewLine]Print[No1, "\< \>", 
          Mo1];\[IndentingNewLine]];\)\)], "Input"],

Cell[BoxData[
    \(\(For[f = 1, 
        f \[LessEqual] 
          NFS, \(f++\), \[IndentingNewLine]\[Sigma] =. ; \[Tau] =. ; \
\[IndentingNewLine]{\(,\)\(,\)\(,\)\(,\)\(,\)\(\[Sigma]\)\(,\)\(,\)} = \
\(FiberState[j]\)[\([EIDX, SIDX, 2, f]\)]; \[IndentingNewLine]No2 += \[Sigma]*
            As[\([f]\)]; \[IndentingNewLine]Mo2 += \[Sigma]*As[\([f]\)]*
            zs[\([f]\)]; \[IndentingNewLine]Print[No2, "\< \>", 
          Mo2];\[IndentingNewLine]];\)\)], "Input"],

Cell[BoxData[{
    \(No = No1 + No2\), "\[IndentingNewLine]", 
    \(Mo = Mo1 + Mo2\)}], "Input"],

Cell[BoxData[{
    \(Qo1 = 0; Qo1S = 0;\), "\[IndentingNewLine]", 
    \(\(For[f = 1, 
        f \[LessEqual] 
          NFC, \(f++\), \[IndentingNewLine]\[Tau] =. ; \[Tau]S =. ; \
\[IndentingNewLine]{\(,\)\(,\)\(,\)\(,\)\(,\)\(,\)\(Gc\)} = \(FiberState[
              j]\)[\([EIDX, SIDX, 1, f]\)]; \[IndentingNewLine]\[Tau] = 
          Gc*\[Gamma]m[r]; \[IndentingNewLine]\[Tau]S = 
          Gc*\[Gamma]mS[r]; \[IndentingNewLine]Qo1 += 
          bk*hk/2*\[Tau]*\[Psi][\([f]\)]; \[IndentingNewLine]Qo1S += 
          bk*hk/2*\[Tau]S*\[Psi][\([f]\)]; \[IndentingNewLine]Print[
          Qo1, "\< \>", Qo1S];\[IndentingNewLine]];\)\)}], "Input"],

Cell[BoxData[{
    \(Qo2 = 0; Qo2S = 0;\), "\[IndentingNewLine]", 
    \(\(For[f = 1, 
        f \[LessEqual] 
          NFS, \(f++\), \[IndentingNewLine]\[Sigma] =. ; \[Tau] =. ; \
\[IndentingNewLine]{\(,\)\(,\)\(,\)\(,\)\(,\)\(,\)\(,\)\(Gs\)} = \(FiberState[
              j]\)[\([EIDX, SIDX, 2, f]\)]; \[IndentingNewLine]\[Tau] = 
          Gs*\[Gamma]m[r]; \[IndentingNewLine]\[Tau]S = 
          Gs*\[Gamma]mS[r]; \[IndentingNewLine]Qo2 += \[Tau]*
            As[\([f]\)]; \[IndentingNewLine]Qo2S += \[Tau]S*
            As[\([f]\)]; \[IndentingNewLine]Print[Qo2, "\< \>", 
          Qo2S];\[IndentingNewLine]];\)\)}], "Input"],

Cell[BoxData[{
    \(Qo = Qo1 + Qo2\), "\[IndentingNewLine]", 
    \(QoS = Qo1S + Qo2S\)}], "Input"],

Cell[BoxData[{
    \({bu[r], bu\[CapitalDelta]u3[r], bw[r], bw\[CapitalDelta]u3[r], 
      b\[Theta][r], b\[Theta]\[CapitalDelta]u3[r]}\), "\[IndentingNewLine]", 
    \({hu[r], hu\[CapitalDelta]u3[r], hw[r], hw\[CapitalDelta]u3[r], 
      h\[Theta][r], h\[Theta]\[CapitalDelta]u3[r], h\[Gamma][r], 
      h\[Gamma]\[CapitalDelta]u3[r], h\[Chi][r], 
      h\[Chi]\[CapitalDelta]u3[r]}\)}], "Input",
  PageWidth->Infinity],

Cell[BoxData[{
    \({buS[r], bu\[CapitalDelta]u3S[r], bwS[r], bw\[CapitalDelta]u3S[r], 
      b\[Theta]S[r], 
      b\[Theta]\[CapitalDelta]u3S[r]}\), "\[IndentingNewLine]", 
    \(\(ShapeFunctions[i]\)[\([EIDX, SIDX, 1]\)]\)}], "Input"],

Cell[BoxData[{
    \({huS[r], hu\[CapitalDelta]u3S[r], hwS[r], hw\[CapitalDelta]u3S[r], 
        h\[Theta]S[r], h\[Theta]\[CapitalDelta]u3S[r], h\[Gamma]S[r], 
        h\[Gamma]\[CapitalDelta]u3S[r], h\[Chi]S[r], 
        h\[Chi]\[CapitalDelta]u3S[r]} // Chop\), "\[IndentingNewLine]", 
    \(\(ShapeFunctions[i]\)[\([EIDX, SIDX, 2]\)]\)}], "Input"],

Cell[BoxData[{
    \({bu[r], bu\[CapitalDelta]u3[r], bw[r], bw\[CapitalDelta]u3[r], 
      b\[Theta][r], b\[Theta]\[CapitalDelta]u3[r]}\), "\[IndentingNewLine]", 
    \(\(ShapeFunctions[i]\)[\([EIDX, SIDX, 1]\)]\)}], "Input"],

Cell[BoxData[{
    \({hu[r], hu\[CapitalDelta]u3[r], hw[r], hw\[CapitalDelta]u3[r], 
        h\[Theta][r], h\[Theta]\[CapitalDelta]u3[r], h\[Gamma][r], 
        h\[Gamma]\[CapitalDelta]u3[r], h\[Chi][r], 
        h\[Chi]\[CapitalDelta]u3[r]} // Chop\), "\[IndentingNewLine]", 
    \(\(ShapeFunctions[i]\)[\([EIDX, SIDX, 2]\)]\)}], "Input"]
}, Open  ]]
}, Closed]]
}, Open  ]]
},
FrontEndVersion->"4.0 for Microsoft Windows",
ScreenRectangle->{{0, 1280}, {0, 926}},
WindowToolbars->"EditBar",
WindowSize->{1149, 802},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
Magnification->1.5
]


(***********************************************************************
Cached data follows.  If you edit this Notebook file directly, not using
Mathematica, you must remove the line containing CacheID at the top of 
the file.  The cache data will then be recreated when you save this file 
from within Mathematica.
***********************************************************************)

(*CellTagsOutline
CellTagsIndex->{}
*)

(*CellTagsIndex
CellTagsIndex->{}
*)

(*NotebookFileOutline
Notebook[{

Cell[CellGroupData[{
Cell[1739, 51, 55, 1, 95, "Subtitle"],

Cell[CellGroupData[{
Cell[1819, 56, 56, 1, 79, "Section"],

Cell[CellGroupData[{
Cell[1900, 61, 76, 1, 68, "Subsection"],

Cell[CellGroupData[{
Cell[2001, 66, 57, 1, 61, "Subsubsection"],
Cell[2061, 69, 13732, 238, 4488, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[15830, 312, 86, 2, 38, "Subsubsection"],
Cell[15919, 316, 13691, 239, 4358, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[29647, 560, 52, 1, 38, "Subsubsection"],
Cell[29702, 563, 13378, 234, 4358, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[43117, 802, 52, 1, 38, "Subsubsection"],
Cell[43172, 805, 13471, 235, 4358, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[56680, 1045, 52, 1, 38, "Subsubsection"],
Cell[56735, 1048, 13471, 235, 4358, "Input"]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{
Cell[70255, 1289, 72, 1, 68, "Subsection"],

Cell[CellGroupData[{
Cell[70352, 1294, 54, 1, 61, "Subsubsection"],
Cell[70409, 1297, 15408, 272, 4878, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[85854, 1574, 56, 1, 38, "Subsubsection"],
Cell[85913, 1577, 14906, 263, 4748, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[100868, 1846, 77, 1, 42, "Subsection"],

Cell[CellGroupData[{
Cell[100970, 1851, 85, 2, 61, "Subsubsection"],
Cell[101058, 1855, 13310, 234, 4306, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[114405, 2094, 86, 2, 38, "Subsubsection"],
Cell[114494, 2098, 13312, 233, 4306, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[127843, 2336, 86, 2, 38, "Subsubsection"],
Cell[127932, 2340, 13312, 233, 4306, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[141293, 2579, 70, 1, 42, "Subsection"],

Cell[CellGroupData[{
Cell[141388, 2584, 51, 1, 61, "Subsubsection"],
Cell[141442, 2587, 14108, 247, 4410, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[155599, 2840, 76, 1, 42, "Subsection"],

Cell[CellGroupData[{
Cell[155700, 2845, 54, 1, 61, "Subsubsection"],
Cell[155757, 2848, 13788, 240, 4540, "Input"]
}, Open  ]],

Cell[CellGroupData[{
Cell[169582, 3093, 54, 1, 61, "Subsubsection"],
Cell[169639, 3096, 13791, 240, 4540, "Input"]
}, Open  ]],

Cell[CellGroupData[{
Cell[183467, 3341, 54, 1, 61, "Subsubsection"],
Cell[183524, 3344, 13782, 240, 4540, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[197343, 3589, 59, 1, 38, "Subsubsection"],
Cell[197405, 3592, 13795, 240, 4540, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[211237, 3837, 64, 1, 38, "Subsubsection"],
Cell[211304, 3840, 13706, 237, 4540, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[225059, 4083, 50, 1, 42, "Subsection"],
Cell[225112, 4086, 43, 1, 42, "Input"],
Cell[225158, 4089, 44, 1, 42, "Input"],
Cell[225205, 4092, 500, 9, 120, "Input"],
Cell[225708, 4103, 85, 1, 42, "Input"],
Cell[225796, 4106, 500, 9, 120, "Input"],
Cell[226299, 4117, 84, 1, 42, "Input"],
Cell[226386, 4120, 652, 13, 198, "Input"],
Cell[227041, 4135, 85, 1, 42, "Input"],
Cell[227129, 4138, 667, 13, 198, "Input"],
Cell[227799, 4153, 86, 1, 42, "Input"],
Cell[227888, 4156, 157, 2, 68, "Input"],
Cell[228048, 4160, 157, 2, 68, "Input"],
Cell[228208, 4164, 285, 6, 94, "Input"],
Cell[228496, 4172, 37, 1, 42, "Input"],
Cell[228536, 4175, 42, 1, 42, "Input"],
Cell[228581, 4178, 692, 14, 224, "Input"],
Cell[229276, 4194, 87, 1, 42, "Input"],
Cell[229366, 4197, 777, 15, 224, "Input"],
Cell[230146, 4214, 37, 1, 42, "Input"],
Cell[230186, 4217, 86, 1, 42, "Input"],
Cell[230275, 4220, 773, 15, 224, "Input"],
Cell[231051, 4237, 87, 1, 42, "Input"],
Cell[231141, 4240, 555, 10, 172, "Input"],
Cell[231699, 4252, 553, 11, 120, "Input"],
Cell[232255, 4265, 506, 10, 120, "Input"],
Cell[232764, 4277, 88, 1, 42, "Input"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{
Cell[232901, 4284, 53, 1, 79, "Section"],

Cell[CellGroupData[{
Cell[232979, 4289, 67, 1, 68, "Subsection"],
Cell[233049, 4292, 48, 1, 42, "Input"],
Cell[233100, 4295, 1391, 25, 380, "Input"],
Cell[234494, 4322, 87, 1, 42, "Input"],
Cell[234584, 4325, 329, 7, 94, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[234950, 4337, 63, 1, 42, "Subsection"],
Cell[235016, 4340, 949, 21, 224, "Input"],
Cell[235968, 4363, 87, 1, 42, "Input"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{
Cell[236104, 4370, 53, 1, 79, "Section"],

Cell[CellGroupData[{
Cell[236182, 4375, 51, 0, 136, "Subsubsection"],
Cell[236236, 4377, 711, 12, 211, "Input"],
Cell[236950, 4391, 708, 13, 153, "Input"],
Cell[237661, 4406, 733, 14, 153, "Input"],
Cell[238397, 4422, 291, 6, 270, "Input"],
Cell[238691, 4430, 91, 1, 94, "Input"],
Cell[238785, 4433, 1502, 30, 387, "Input"],
Cell[240290, 4465, 80, 1, 94, "Input"],
Cell[240373, 4468, 1484, 30, 387, "Input"]
}, Open  ]],

Cell[CellGroupData[{
Cell[241894, 4503, 51, 0, 136, "Subsubsection"],
Cell[241948, 4505, 43, 1, 94, "Input"],
Cell[241994, 4508, 93, 1, 94, "Input"],
Cell[242090, 4511, 53, 1, 94, "Input"]
}, Open  ]],

Cell[CellGroupData[{
Cell[242180, 4517, 60, 0, 136, "Subsubsection"],
Cell[242243, 4519, 342, 5, 270, "Input"],
Cell[242588, 4526, 84, 1, 94, "Input"],
Cell[242675, 4529, 44, 1, 94, "Input"],
Cell[242722, 4532, 1463, 33, 559, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[244222, 4570, 61, 0, 85, "Subsubsection"],
Cell[244286, 4572, 54, 1, 94, "Input"],
Cell[244343, 4575, 90, 2, 153, "Input"],
Cell[244436, 4579, 98, 2, 153, "Input"],
Cell[244537, 4583, 104, 2, 153, "Input"],
Cell[244644, 4587, 94, 2, 153, "Input"]
}, Open  ]],

Cell[CellGroupData[{
Cell[244775, 4594, 62, 0, 136, "Subsubsection"],
Cell[244840, 4596, 80, 2, 153, "Input"],
Cell[244923, 4600, 114, 2, 153, "Input"],
Cell[245040, 4604, 94, 2, 153, "Input"],
Cell[245137, 4608, 128, 2, 153, "Input"],
Cell[245268, 4612, 80, 2, 153, "Input"],
Cell[245351, 4616, 114, 2, 153, "Input"],
Cell[245468, 4620, 128, 2, 153, "Input"],
Cell[245599, 4624, 94, 2, 153, "Input"],
Cell[245696, 4628, 90, 2, 153, "Input"]
}, Open  ]],

Cell[CellGroupData[{
Cell[245823, 4635, 66, 0, 136, "Subsubsection"],
Cell[245892, 4637, 249, 5, 270, "Input"],
Cell[246144, 4644, 68, 1, 94, "Input"],
Cell[246215, 4647, 84, 1, 94, "Input"],
Cell[246302, 4650, 495, 9, 445, "Input"],
Cell[246800, 4661, 470, 8, 445, "Input"],
Cell[247273, 4671, 97, 2, 153, "Input"],
Cell[247373, 4675, 646, 11, 621, "Input"],
Cell[248022, 4688, 632, 11, 621, "Input"],
Cell[248657, 4701, 100, 2, 153, "Input"],
Cell[248760, 4705, 420, 7, 153, "Input"],
Cell[249183, 4714, 238, 4, 153, "Input"],
Cell[249424, 4720, 349, 5, 211, "Input"],
Cell[249776, 4727, 225, 3, 153, "Input"],
Cell[250004, 4732, 339, 5, 153, "Input"]
}, Open  ]]
}, Closed]]
}, Open  ]]
}
]
*)




(***********************************************************************
End of Mathematica Notebook file.
***********************************************************************)

